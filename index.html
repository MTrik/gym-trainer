<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
  <meta name="theme-color" content="#667eea">
  <title>Gym Trainer Pro</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333;overflow-x:hidden;padding-bottom:80px}
    .container{max-width:400px;margin:0 auto;padding:20px}
    .header{text-align:center;color:#fff;margin-bottom:14px}
    .header h1{font-size:1.9em;margin-bottom:6px;text-shadow:0 2px 4px rgba(0,0,0,.3)}
    .tabs{position:fixed;bottom:0;left:0;right:0;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);display:flex;justify-content:space-around;padding:10px 0;box-shadow:0 -2px 20px rgba(0,0,0,.1);z-index:1000}
    .tab-btn{background:none;border:none;padding:8px 12px;border-radius:999px;cursor:pointer;transition:all .3s;font-size:.9em;font-weight:600;display:flex;align-items:center;gap:6px}
    .tab-btn.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;transform:translateY(-2px)}
    .tab-content{display:none}
    .tab-content.active{display:block}
    .workout-card{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-radius:22px;padding:18px;margin-bottom:14px;box-shadow:0 10px 30px rgba(0,0,0,.08)}
    .exercise-name{font-size:1.1em;font-weight:800;color:#2d3748;margin-bottom:10px}
    .technique-bg{background:rgba(102,126,234,.05);border-left:4px solid #667eea;padding:12px;border-radius:10px;font-size:.9em;line-height:1.5;margin-top:8px}
    .sets-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(64px,1fr));gap:12px;margin:12px 0}
    .set-btn{width:64px;height:64px;aspect-ratio:1;border-radius:50%;border:0;background:#fff;color:#2d3748;font-weight:800;font-size:.95em;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 16px rgba(0,0,0,.08);transition:transform .2s,box-shadow .2s,background .2s,color .2s}
    .set-btn:hover{transform:translateY(-1px);box-shadow:0 10px 22px rgba(0,0,0,.12)}
    .set-btn.completed{background:linear-gradient(135deg,#48bb78,#38a169);color:#fff;box-shadow:0 8px 20px rgba(56,161,105,.35)}
    .weight-controls{display:flex;justify-content:center;align-items:center;gap:14px;margin:8px 0 4px;padding:10px;background:rgba(102,126,234,.05);border-radius:12px}
    .weight-btn{width:44px;height:44px;border-radius:50%;border:0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2em;font-weight:800;box-shadow:0 6px 16px rgba(102,126,234,.35);transition:transform .2s}
    .weight-btn:hover{transform:scale(1.06)}.weight-btn:active{transform:scale(.96)}
    .weight-display{font-size:1.1em;font-weight:500;color:#2d3748;min-width:80px;text-align:center}
    .timer-card{text-align:center}
    .timer-display{font-size:3em;font-weight:800;color:#667eea;margin:22px 0;text-shadow:0 2px 4px rgba(0,0,0,.1)}
    .timer-controls{display:flex;gap:16px;justify-content:center;margin-top:24px;margin-bottom:44px;flex-wrap:wrap}
    .timer-btn{padding:14px 22px;border:0;border-radius:999px;font-size:1.05em;font-weight:800;min-width:104px;color:#fff;box-shadow:0 6px 16px rgba(0,0,0,.12)}
    .timer-btn.start{background:linear-gradient(135deg,#48bb78,#38a169)}
    .timer-btn.pause{background:linear-gradient(135deg,#ed8936,#dd6b20)}
    .timer-btn.reset{background:linear-gradient(135deg,#e53e3e,#c53030)}
    .timer-btn.done{background:linear-gradient(135deg,#667eea,#764ba2)}
    .program-selector{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:12px}
    .program-btn{padding:16px;border:0;border-radius:15px;background:rgba(255,255,255,.2);color:#fff;font-weight:800}
    .program-btn.active{background:rgba(255,255,255,.92);color:#333;transform:scale(1.02)}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üèãÔ∏è GYM TRAINER</h1>
      <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä TechnoGym</p>
    </div>

    <div id="timer-tab" class="tab-content">
      <div class="workout-card timer-card">
        <h2>‚è±Ô∏è –¢–∞–π–º–µ—Ä –æ—Ç–¥—ã—Ö–∞</h2>
        <div id="timer-display" class="timer-display">01:30</div>
        <div class="timer-controls">
          <button id="start-timer" class="timer-btn start">–°—Ç–∞—Ä—Ç</button>
          <button id="pause-timer" class="timer-btn pause" style="display:none;">–ü–∞—É–∑–∞</button>
          <button id="reset-timer" class="timer-btn reset">–°–±—Ä–æ—Å</button>
          <button id="done-timer" class="timer-btn done" style="display:none;">–ì–æ—Ç–æ–≤–æ</button>
        </div>
        <div id="current-exercise-info" style="margin-top:12px;padding:10px;background:rgba(102,126,234,.1);border-radius:10px;display:none;">
          <div style="font-weight:800;color:#667eea;">–¢–µ–∫—É—â–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ:</div>
          <div id="exercise-name-display" style="font-size:1.05em;margin-top:4px;"></div>
        </div>
      </div>
    </div>

    <div id="workout-tab" class="tab-content active">
      <div class="program-selector">
        <button class="program-btn active" data-program="day1">–î–µ–Ω—å 1<br>–í–µ—Ä—Ö —Ç–µ–ª–∞</button>
        <button class="program-btn" data-program="day2">–î–µ–Ω—å 2<br>–ö–∞—Ä–¥–∏–æ+–ù–æ–≥–∏</button>
        <button class="program-btn" data-program="day3">–î–µ–Ω—å 3<br>–ù–æ–≥–∏+–ü—Ä–µ—Å—Å</button>
        <button class="program-btn" data-program="day4">–î–µ–Ω—å 4<br>–§—É–Ω–∫—Ü+–°–∏–ª–∞</button>
      </div>
      <div id="workout-content"></div>
    </div>

    <div id="stats-tab" class="tab-content">
      <div class="workout-card">
        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        <div id="stats-content"><p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å</p></div>
      </div>
    </div>

    <div id="plan-tab" class="tab-content">
      <div class="workout-card">
        <h2>üìÖ –ü–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h2>
        <div style="line-height:1.7;margin-top:12px;">
          <div style="padding:10px;margin:8px 0;background:rgba(102,126,234,.1);border-radius:8px;"><strong>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫:</strong> –î–µ–Ω—å 1 - –í–µ—Ä—Ö —Ç–µ–ª–∞</div>
          <div style="padding:10px;margin:8px 0;background:rgba(102,126,234,.1);border-radius:8px;"><strong>–í—Ç–æ—Ä–Ω–∏–∫:</strong> –î–µ–Ω—å 2 - –ö–∞—Ä–¥–∏–æ + –ù–æ–≥–∏</div>
          <div style="padding:10px;margin:8px 0;background:rgba(102,126,234,.1);border-radius:8px;"><strong>–ß–µ—Ç–≤–µ—Ä–≥:</strong> –î–µ–Ω—å 3 - –ù–æ–≥–∏ + –ü—Ä–µ—Å—Å</div>
          <div style="padding:10px;margin:8px 0;background:rgba(102,126,234,.1);border-radius:8px;"><strong>–ü—è—Ç–Ω–∏—Ü–∞:</strong> –î–µ–Ω—å 4 - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è + –°–∏–ª–∞</div>
        </div>
      </div>
    </div>
  </div>

  <div class="tabs">
    <button class="tab-btn" data-tab="timer-tab">‚è±Ô∏è –¢–∞–π–º–µ—Ä</button>
    <button class="tab-btn active" data-tab="workout-tab">üèãÔ∏è –ü—Ä–æ–≥—Ä–∞–º–º–∞</button>
    <button class="tab-btn" data-tab="stats-tab">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
    <button class="tab-btn" data-tab="plan-tab">üìÖ –ü–ª–∞–Ω</button>
  </div>

  <script>
    // –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
    const workoutPrograms = {
      day1: {
        name: "–î–µ–Ω—å 1 - –í–µ—Ä—Ö —Ç–µ–ª–∞",
        exercises: [
          { name: "–ñ–∏–º –æ—Ç –≥—Ä—É–¥–∏ —Å–∏–¥—è", sets: 4, reps: "8-12", weight: 40, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°—è–¥—å—Ç–µ –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä, —Å–ø–∏–Ω–∞ –∫ —Å–ø–∏–Ω–∫–µ<br>2. –•–≤–∞—Ç —á—É—Ç—å —à–∏—Ä–µ –ø–ª–µ—á<br>3. –í—ã–¥–æ—Ö - –∂–∏–º –≤–ø–µ—Ä–µ–¥<br>4. –í–¥–æ—Ö - –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞–∑–∞–¥",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û—Ç —Ü–µ–Ω—Ç—Ä–∞ –≥—Ä—É–¥–∏ –≤–ø–µ—Ä–µ–¥, –ª–æ–∫—Ç–∏ —Å–ª–µ–≥–∫–∞ —Å–æ–≥–Ω—É—Ç—ã",
            important: "–í–∞–∂–Ω–æ: –ù–µ –±–ª–æ–∫–∏—Ä—É–π—Ç–µ –ª–æ–∫—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—É—é —Ñ–∞–∑—É" },
          { name: "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞", sets: 4, reps: "8-12", weight: 45, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°–∏–¥—è, –∫–æ–ª–µ–Ω–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã<br>2. –•–≤–∞—Ç —à–∏—Ä–æ–∫–∏–π, –ª–∞–¥–æ–Ω–∏ –æ—Ç —Å–µ–±—è<br>3. –í—ã–¥–æ—Ö - —Ç—è–≥–∞ –∫ –≤–µ—Ä—Ö—É –≥—Ä—É–¥–∏<br>4. –í–¥–æ—Ö - –º–µ–¥–ª–µ–Ω–Ω–æ –≤–≤–µ—Ä—Ö",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ö –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≥—Ä—É–¥–∏, –ª–æ–ø–∞—Ç–∫–∏ –≤–º–µ—Å—Ç–µ",
            important: "–í–∞–∂–Ω–æ: –ù–µ –Ω–∞–∫–ª–æ–Ω—è–π—Ç–µ—Å—å –Ω–∞–∑–∞–¥, —Ä–∞–±–æ—Ç–∞—é—Ç —à–∏—Ä–æ—á–∞–π—à–∏–µ –º—ã—à—Ü—ã" },
          { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è", sets: 3, reps: "10-15", weight: 12, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°–∏–¥—è, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è<br>2. –ì–∞–Ω—Ç–µ–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–ª–µ—á<br>3. –í—ã–¥–æ—Ö - –∂–∏–º –≤–≤–µ—Ä—Ö<br>4. –í–¥–æ—Ö - –æ–ø—É—Å–∫–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°—Ç—Ä–æ–≥–æ –≤–≤–µ—Ä—Ö, –Ω–µ —Å–≤–æ–¥—è –≥–∞–Ω—Ç–µ–ª–∏",
            important: "–í–∞–∂–Ω–æ: –ù–µ —Ä–∞–∑–≥–∏–±–∞–π—Ç–µ —Ä—É–∫–∏ –¥–æ –∫–æ–Ω—Ü–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Å–∞" },
          { name: "–¢—è–≥–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞", sets: 3, reps: "10-15", weight: 40, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°–∏–¥—è, –Ω–æ–≥–∏ —É–ø–∏—Ä–∞—é—Ç—Å—è<br>2. –•–≤–∞—Ç —Å—Ä–µ–¥–Ω–∏–π<br>3. –í—ã–¥–æ—Ö - —Ç—è–≥–∞ –∫ –∂–∏–≤–æ—Ç—É<br>4. –í–¥–æ—Ö - –º–µ–¥–ª–µ–Ω–Ω–æ –≤–ø–µ—Ä–µ–¥",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ö –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –≥—Ä—É–¥–∏/–∂–∏–≤–æ—Ç—É",
            important: "–í–∞–∂–Ω–æ: –°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –ª–æ–ø–∞—Ç–∫–∏ —Å–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Ü–µ –¥–≤–∏–∂–µ–Ω–∏—è" },
          { name: "–ü–æ–¥—ä–µ–º –Ω–∞ –±–∏—Ü–µ–ø—Å", sets: 3, reps: "12-15", weight: 10, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°—Ç–æ—è, —Ä—É–∫–∏ –≤–¥–æ–ª—å —Ç–µ–ª–∞<br>2. –ì–∞–Ω—Ç–µ–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º —Ö–≤–∞—Ç–æ–º<br>3. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º<br>4. –í–¥–æ—Ö - –æ–ø—É—Å–∫–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°–≥–∏–±–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫—Ç–µ–≤–æ–º —Å—É—Å—Ç–∞–≤–µ",
            important: "–í–∞–∂–Ω–æ: –õ–æ–∫—Ç–∏ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã, –±–µ–∑ —Ä–∞—Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∫–æ—Ä–ø—É—Å–∞" },
          { name: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º –ª–µ–∂–∞", sets: 3, reps: "12-15", weight: 8, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –õ–µ–∂–∞, —Ä—É–∫–∏ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ —Ç–µ–ª—É<br>2. –ì–∞–Ω—Ç–µ–ª–∏ –Ω–∞–¥ –≥—Ä—É–¥—å—é<br>3. –í–¥–æ—Ö - —Å–≥–∏–±–∞–Ω–∏–µ –≤ –ª–æ–∫—Ç—è—Ö<br>4. –í–¥–æ—Ö - —Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°–≥–∏–±–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫—Ç—è—Ö, –ø–ª–µ—á–∏ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã",
            important: "–í–∞–∂–Ω–æ: –õ–æ–∫—Ç–∏ –Ω–µ —Ä–∞–∑–≤–æ–¥–∏–º, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–ø—É—Å–∫–∞–Ω–∏–µ" }
        ]
      },
      day2: {
        name: "–î–µ–Ω—å 2 - –ö–∞—Ä–¥–∏–æ + –ù–æ–≥–∏",
        exercises: [
          { name: "–ë–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞", sets: 1, reps: "20 –º–∏–Ω", hasWeight: false,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –†–∞–∑–º–∏–Ω–∫–∞ 5 –º–∏–Ω—É—Ç —Ö–æ–¥—å–±–∞<br>2. –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å - –ª–µ–≥–∫–∏–π –±–µ–≥<br>3. –ó–∞–º–∏–Ω–∫–∞ 3 –º–∏–Ω—É—Ç—ã —Ö–æ–¥—å–±–∞<br>4. –î—ã—Ö–∞–Ω–∏–µ —Ä–∏—Ç–º–∏—á–Ω–æ–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü—É–ª—å—Å 120-140 —É–¥–∞—Ä–æ–≤/–º–∏–Ω",
            important: "–í–∞–∂–Ω–æ: –ü—Ä–∏ –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç–µ —Å–Ω–∏–∂–∞–π—Ç–µ —Ç–µ–º–ø, –ø–µ–π—Ç–µ –≤–æ–¥—É" },
          { name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ", sets: 4, reps: "10-15", weight: 60, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –ù–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á<br>2. –°–ø–∏–Ω–∞ –ø—Ä–∏–∂–∞—Ç–∞ –∫ —Å–ø–∏–Ω–∫–µ<br>3. –í–¥–æ—Ö - –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ<br>4. –í–¥–æ—Ö - –ø–æ–¥—ä–µ–º",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –¢–∞–∑ –Ω–∞–∑–∞–¥, –∫–æ–ª–µ–Ω–∏ –∑–∞ –Ω–æ—Å–∫–∏ –Ω–µ –≤—ã—Ö–æ–¥—è—Ç",
            important: "–í–∞–∂–Ω–æ: –ö–æ–ª–µ–Ω–∏ –≤ –æ–¥–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ —Å–æ —Å—Ç–æ–ø–∞–º–∏" },
          { name: "–ñ–∏–º –Ω–æ–≥–∞–º–∏", sets: 4, reps: "12-15", weight: 80, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°–ø–∏–Ω–∞ –ø—Ä–∏–∂–∞—Ç–∞, –Ω–æ–≥–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ<br>2. –°—Ç–æ–ø—ã –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á<br>3. –í–¥–æ—Ö - —Å–≥–∏–±–∞–Ω–∏–µ –Ω–æ–≥<br>4. –í—ã–¥–æ—Ö - –∂–∏–º",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ù–µ –æ–ø—É—Å–∫–∞—Ç—å –∫–æ–ª–µ–Ω–∏ –∫ –≥—Ä—É–¥–∏ —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ",
            important: "–í–∞–∂–Ω–æ: –ö–æ–ª–µ–Ω–∏ –Ω–µ —Å–≤–æ–¥–∏—Ç—å, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞" },
          { name: "–ü–æ–¥—ä–µ–º –Ω–∞ –Ω–æ—Å–∫–∏ —Å–∏–¥—è", sets: 4, reps: "15-20", weight: 25, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°–∏–¥—è –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ<br>2. –ù–æ—Å–∫–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ<br>3. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º –Ω–∞ –Ω–æ—Å–∫–∏<br>4. –í–¥–æ—Ö - –æ–ø—É—Å–∫–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞ –¥–≤–∏–∂–µ–Ω–∏—è",
            important: "–í–∞–∂–Ω–æ: –ü–∞—É–∑–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ, –º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–ø—É—Å–∫–∞–Ω–∏–µ" },
          { name: "–°–≥–∏–±–∞–Ω–∏–µ –Ω–æ–≥ –ª–µ–∂–∞", sets: 3, reps: "12-15", weight: 30, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –õ–µ–∂–∞ –Ω–∞ –∂–∏–≤–æ—Ç–µ<br>2. –í–∞–ª–∏–∫ –Ω–∞ –∑–∞–¥–Ω–µ–π —á–∞—Å—Ç–∏ –≥–æ–ª–µ–Ω–µ–π<br>3. –í—ã–¥–æ—Ö - —Å–≥–∏–±–∞–Ω–∏–µ<br>4. –í–¥–æ—Ö - —Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü—Ä–∏–≤–æ–¥–∏–º –ø—è—Ç–∫–∏ –∫ —è–≥–æ–¥–∏—Ü–∞–º",
            important: "–í–∞–∂–Ω–æ: –¢–∞–∑ –ø—Ä–∏–∂–∞—Ç –∫ —Å–∫–∞–º—å–µ, –±–µ–∑ —Ä—ã–≤–∫–æ–≤" }
        ]
      },
      day3: {
        name: "–î–µ–Ω—å 3 - –ù–æ–≥–∏ + –ü—Ä–µ—Å—Å",
        exercises: [
          { name: "–ì–∞–∫–∫-–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è", sets: 4, reps: "8-12", weight: 70, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°–ø–∏–Ω–∞ –∫ —Å–ø–∏–Ω–∫–µ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞<br>2. –ù–æ–≥–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ<br>3. –í–¥–æ—Ö - –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ<br>4. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ì–ª—É–±–æ–∫–æ–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ, –∫–æ–ª–µ–Ω–∏ –∑–∞ –Ω–æ—Å–∫–∏",
            important: "–í–∞–∂–Ω–æ: –ü—è—Ç–∫–∏ –Ω–µ –æ—Ç—Ä—ã–≤–∞—Ç—å, –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Å–∞" },
          { name: "–†—É–º—ã–Ω—Å–∫–∞—è —Ç—è–≥–∞", sets: 4, reps: "10-12", weight: 15, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°—Ç–æ—è, –≥–∞–Ω—Ç–µ–ª–∏ –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π<br>2. –ù–æ–≥–∏ —Å–ª–µ–≥–∫–∞ —Å–æ–≥–Ω—É—Ç—ã<br>3. –í–¥–æ—Ö - –Ω–∞–∫–ª–æ–Ω —Å –æ—Ç–≤–µ–¥–µ–Ω–∏–µ–º —Ç–∞–∑–∞<br>4. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –¢–∞–∑ –Ω–∞–∑–∞–¥, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è",
            important: "–í–∞–∂–Ω–æ: –ß—É–≤—Å—Ç–≤—É–µ–º —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ –∑–∞–¥–Ω–µ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –±–µ–¥—Ä–∞" },
          { name: "–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏", sets: 3, reps: "10 –∫–∞–∂–¥–æ–π", weight: 8, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°—Ç–æ—è, –≥–∞–Ω—Ç–µ–ª–∏ –≤ —Ä—É–∫–∞—Ö<br>2. –®–∞–≥ –≤–ø–µ—Ä–µ–¥
","direction":"–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ö–æ–ª–µ–Ω–æ –∑–∞–¥–Ω–µ–π –Ω–æ–≥–∏ –∫ –ø–æ–ª—É","important":"–í–∞–∂–Ω–æ: –ö–æ–ª–µ–Ω–æ –ø–µ—Ä–µ–¥–Ω–µ–π –Ω–æ–≥–∏ –Ω–∞–¥ —Å—Ç–æ–ø–æ–π" },
          { name: "–ü–æ–¥—ä–µ–º—ã –Ω–æ–≥ –≤ –≤–∏—Å–µ", sets: 3, reps: "8-15", hasWeight: false,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –í–∏—Å –Ω–∞ —Ç—É—Ä–Ω–∏–∫–µ/—Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ<br>2. –ù–æ–≥–∏ –ø—Ä—è–º—ã–µ –∏–ª–∏ —Å–æ–≥–Ω—É—Ç—ã–µ<br>3. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º –Ω–æ–≥<br>4. –í–¥–æ—Ö - –æ–ø—É—Å–∫–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ù–æ–≥–∏ –∫ –≥—Ä—É–¥–∏, —Ç–∞–∑ –ø–æ–¥–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è",
            important: "–í–∞–∂–Ω–æ: –ë–µ–∑ —Ä–∞—Å–∫–∞—á–∏–≤–∞–Ω–∏—è, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º –æ–ø—É—Å–∫–∞–Ω–∏–µ" },
          { name: "–ü–ª–∞–Ω–∫–∞", sets: 3, reps: "30-60 —Å–µ–∫", hasWeight: false,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –£–ø–æ—Ä –Ω–∞ –ø—Ä–µ–¥–ø–ª–µ—á—å—è
","direction":"–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü—Ä—è–º–∞—è –ª–∏–Ω–∏—è –æ—Ç –≥–æ–ª–æ–≤—ã –¥–æ –ø—è—Ç–æ–∫","important":"–í–∞–∂–Ω–æ: –ù–µ –ø–æ–¥–Ω–∏–º–∞—Ç—å —Ç–∞–∑, –Ω–µ –ø—Ä–æ–≥–∏–±–∞—Ç—å—Å—è" },
          { name: "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–µ—Å—Å", sets: 3, reps: "15-20", hasWeight: false,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –õ–µ–∂–∞, –Ω–æ–≥–∏ —Å–æ–≥–Ω—É—Ç—ã<br>2. –†—É–∫–∏ –∑–∞ –≥–æ–ª–æ–≤–æ–π<br>3. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º –∫–æ—Ä–ø—É—Å–∞<br>4. –í–¥–æ—Ö - –æ–ø—É—Å–∫–∞–Ω–∏–µ",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –õ–æ–ø–∞—Ç–∫–∏ –æ—Ç –ø–æ–ª–∞, –ø–æ–¥–±–æ—Ä–æ–¥–æ–∫ –æ—Ç –≥—Ä—É–¥–∏",
            important: "–í–∞–∂–Ω–æ: –ù–µ —Ç—è–Ω–µ–º –≥–æ–ª–æ–≤—É —Ä—É–∫–∞–º–∏, —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ—Å—Å" }
        ]
      },
      day4: {
        name: "–î–µ–Ω—å 4 - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è + –°–∏–ª–∞",
        exercises: [
          { name: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä - —Ç—è–≥–∞", sets: 4, reps: "8-12", weight: 35, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°—Ç–æ—è, —Ö–≤–∞—Ç –∑–∞ —Ä—É–∫–æ—è—Ç–∏<br>2. –ù–µ–±–æ–ª—å—à–æ–π –Ω–∞–∫–ª–æ–Ω –≤–ø–µ—Ä–µ–¥<br>3. –í—ã–¥–æ—Ö - —Ç—è–≥–∞ –∫ –∂–∏–≤–æ—Ç—É<br>4. –í–¥–æ—Ö - –≤–æ–∑–≤—Ä–∞—Ç",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –õ–æ–ø–∞—Ç–∫–∏ –≤–º–µ—Å—Ç–µ, –ª–æ–∫—Ç–∏ –≤–¥–æ–ª—å —Ç–µ–ª–∞",
            important: "–í–∞–∂–Ω–æ: –ö–æ—Ä–ø—É—Å —Å—Ç–∞–±–∏–ª–µ–Ω, —Ä–∞–±–æ—Ç–∞—é—Ç –º—ã—à—Ü—ã —Å–ø–∏–Ω—ã" },
          { name: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∂–∏–º —Å—Ç–æ—è", sets: 4, reps: "8-12", weight: 20, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –°—Ç–æ—è, —Ä—É–∫–æ—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–ª–µ—á<br>2. –ù–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á<br>3. –í—ã–¥–æ—Ö - –∂–∏–º –≤–ø–µ—Ä–µ–¥<br>4. –í–¥–æ—Ö - –≤–æ–∑–≤—Ä–∞—Ç",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û—Ç –ø–ª–µ—á –≤–ø–µ—Ä–µ–¥, –∫–æ—Ä–ø—É—Å –ø—Ä—è–º–æ",
            important: "–í–∞–∂–Ω–æ: –ü—Ä–µ—Å—Å –Ω–∞–ø—Ä—è–∂–µ–Ω, –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ–º—Å—è –Ω–∞–∑–∞–¥" },
          { name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª–µ–π", sets: 3, reps: "12-15", weight: 12, hasWeight: true,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –ì–∞–Ω—Ç–µ–ª—å —É –≥—Ä—É–¥–∏<br>2. –ù–æ–≥–∏ —à–∏—Ä–µ –ø–ª–µ—á<br>3. –í–¥–æ—Ö - –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–µ<br>4. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –¢–∞–∑ –Ω–∞–∑–∞–¥, –∫–æ–ª–µ–Ω–∏ –Ω–∞—Ä—É–∂—É",
            important: "–í–∞–∂–Ω–æ: –°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –≤–µ—Å –Ω–∞ –ø—è—Ç–∫–∞—Ö" },
          { name: "–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –ø–æ–ª–∞", sets: 3, reps: "5-15", hasWeight: false,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –£–ø–æ—Ä –ª–µ–∂–∞<br>2. –†—É–∫–∏ —à–∏—Ä–µ –ø–ª–µ—á<br>3. –í–¥–æ—Ö - –æ–ø—É—Å–∫–∞–Ω–∏–µ<br>4. –í—ã–¥–æ—Ö - –ø–æ–¥—ä–µ–º",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –¢–µ–ª–æ –ø—Ä—è–º–æ, –ª–æ–∫—Ç–∏ –ø–æ–¥ —É–≥–ª–æ–º 45¬∞",
            important: "–í–∞–∂–Ω–æ: –ü–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å –∫–æ–ª–µ–Ω" },
          { name: "–ë–µ—Ä–ø–∏", sets: 3, reps: "5-10", hasWeight: false,
            technique: "–¢–µ—Ö–Ω–∏–∫–∞:<br>1. –ü—Ä–∏—Å–µ–¥, —Ä—É–∫–∏ –Ω–∞ –ø–æ–ª<br>2. –ü—Ä—ã–∂–æ–∫ –Ω–∞–∑–∞–¥ –≤ –ø–ª–∞–Ω–∫—É<br>3. –û—Ç–∂–∏–º–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)<br>4. –ü—Ä—ã–∂–æ–∫ –∫ —Ä—É–∫–∞–º, –ø–æ–¥—ä–µ–º –≤–≤–µ—Ä—Ö",
            direction: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏",
            important: "–í–∞–∂–Ω–æ: –ü—Ä–∏ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ —É–±–∏—Ä–∞–µ–º –æ—Ç–∂–∏–º–∞–Ω–∏—è –∏ –ø—Ä—ã–∂–∫–∏" }
        ]
      }
    };

    let currentProgram='day1';
    let timerInterval=null,timerSeconds=90,isTimerRunning=false;
    let completedSets={},weights={},lastExerciseRef=null;

    function avgReps(str){ if(typeof str!=='string') return 10; if(str.includes('-')){const[a,b]=str.split('-').map(n=>parseInt(n,10)); if(!isNaN(a)&&!isNaN(b)) return Math.round((a+b)/2);} if(str.includes('–º–∏–Ω')||str.includes('—Å–µ–∫')) return 1; const n=parseInt(str,10); return isNaN(n)?10:n; }
    function format(sec){const m=String(Math.floor(sec/60)).padStart(2,'0');const s=String(sec%60).padStart(2,'0');return `${m}:${s}`;}
    function safeSwitchTab(tabId){
      document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
      const t=document.getElementById(tabId), b=document.querySelector(`.tab-btn[data-tab="${tabId}"]`);
      if(t) t.classList.add('active'); if(b) b.classList.add('active');
      if(t && t.scrollIntoView) setTimeout(()=>t.scrollIntoView({block:'start',behavior:'smooth'}),0);
    }

    function renderWorkout(programId){
      currentProgram=programId;
      const program=workoutPrograms[programId],c=document.getElementById('workout-content');
      c.innerHTML=`
        <div class=\"workout-card\"> 
          <h2>${program.name}</h2>
          ${program.exercises.map((ex,i)=>`
            <div class=\"exercise-card\" style=\"margin-top:12px;\">
              <div class=\"exercise-name\">${ex.name}</div>
              <div class=\"technique-bg\">
                <div class=\"technique-title\" style=\"font-weight:800;color:#667eea;margin-bottom:6px;\">–¢–µ—Ö–Ω–∏–∫–∞</div>
                ${ex.technique}
                ${ex.direction?`<br><br><strong>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> ${ex.direction}`:''}
                ${ex.important?`<br><strong>–í–∞–∂–Ω–æ:</strong> ${ex.important}`:''}
              </div>
              <div class=\"sets-container\">
                ${Array.from({length:ex.sets}).map((_,s)=>`<button class=\"set-btn\" data-ex=\"${i}\" data-set=\"${s+1}\">${s+1}</button>`).join('')}
              </div>
              ${ex.hasWeight?`
                <div class=\"weight-controls\">
                  <button class=\"weight-btn\" data-action=\"minus\" data-ex=\"${i}\">‚àí</button>
                  <div class=\"weight-display\" id=\"weight-${programId}-${i}\">${(weights[`${programId}_${i}`] ?? ex.weight ?? 0)} –∫–≥</div>
                  <button class=\"weight-btn\" data-action=\"plus\" data-ex=\"${i}\">+</button>
                </div>`:''}
            </div>
          `).join('')}
        </div>`;
      c.querySelectorAll('.set-btn').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const exIdx=+btn.dataset.ex, setNum=+btn.dataset.set;
          const key=`${programId}_${exIdx}_${setNum}`;
          completedSets[key]=!completedSets[key];
          btn.classList.toggle('completed',completedSets[key]);
          lastExerciseRef={programId,exIdx};
          safeSwitchTab('timer-tab');
          document.getElementById('exercise-name-display').textContent=program.exercises[exIdx].name;
          document.getElementById('current-exercise-info').style.display='block';
          renderStats();
        });
      });
      c.querySelectorAll('.weight-btn').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const exIdx=+btn.dataset.ex, key=`${programId}_${exIdx}`, step=2.5;
          const base=program.exercises[exIdx].weight ?? 0;
          const cur=Number(weights[key] ?? base);
          const next=btn.dataset.action==='plus'?cur+step:Math.max(0,cur-step);
          weights[key]=next;
          const disp=document.getElementById(`weight-${programId}-${exIdx}`); if(disp) disp.textContent=`${next} –∫–≥`;
          renderStats();
        });
      });
    }

    function renderStats(){
      const stats=document.getElementById('stats-content'); if(!stats) return;
      let totalSets=0,totalVolume=0; const exDone=new Set();
      for(const key in completedSets){ if(!completedSets[key]) continue;
        const [pid, exIdx]=key.split('_'); const p=workoutPrograms[pid]; if(!p) continue;
        const ex=p.exercises[+exIdx]; if(!ex) continue;
        totalSets++; exDone.add(`${pid}:${exIdx}`);
        const wKey=`${pid}_${exIdx}`, w=Number(weights[wKey] ?? ex.weight ?? 0), reps=avgReps(ex.reps);
        totalVolume+=w*reps;
      }
      stats.innerHTML=`
        <div style=\"line-height:1.8;\">
          <div><strong>–ü–æ–¥—Ö–æ–¥–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:</strong> ${totalSets}</div>
          <div><strong>–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π:</strong> ${exDone.size}</div>
          <div><strong>–°—É–º–º–∞—Ä–Ω—ã–π —Ç–æ–Ω–Ω–∞–∂:</strong> ${totalVolume.toFixed(0)} –∫–≥¬∑–ø–æ–≤—Ç</div>
        </div>
        <div style=\"margin-top:10px;font-size:.9em;color:#4a5568;\">–î–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É.</div>`;
    }

    function returnToLastExercise(){
      if(lastExerciseRef){
        const {programId,exIdx}=lastExerciseRef;
        safeSwitchTab('workout-tab'); renderWorkout(programId);
        setTimeout(()=>{
          const cards=document.querySelectorAll('#workout-content .exercise-card');
          const target=cards[exIdx]; if(target){ target.scrollIntoView({behavior:'smooth',block:'start'});
            target.style.outline='2px solid #667eea'; target.style.borderRadius='12px';
            setTimeout(()=>target.style.outline='none',1200);
          }
        },0);
      }else{ safeSwitchTab('workout-tab'); }
    }

    function initTimer(){
      const display=document.getElementById('timer-display');
      const startBtn=document.getElementById('start-timer');
      const pauseBtn=document.getElementById('pause-timer');
      const resetBtn=document.getElementById('reset-timer');
      const doneBtn=document.getElementById('done-timer');
      const update=()=>display.textContent=format(timerSeconds);

      startBtn.addEventListener('click',()=>{
        if(isTimerRunning) return; isTimerRunning=true;
        pauseBtn.style.display='inline-block'; doneBtn.style.display='inline-block';
        timerInterval=setInterval(()=>{
          if(timerSeconds>0){ timerSeconds--; update();
            if(timerSeconds===0){ clearInterval(timerInterval); isTimerRunning=false; returnToLastExercise(); }
          }
        },1000);
      });
      pauseBtn.addEventListener('click',()=>{ if(!isTimerRunning) return; clearInterval(timerInterval); isTimerRunning=false; pauseBtn.style.display='none'; });
      resetBtn.addEventListener('click',()=>{ clearInterval(timerInterval); isTimerRunning=false; timerSeconds=90; update(); pauseBtn.style.display='none'; doneBtn.style.display='none'; });
      doneBtn.addEventListener('click',()=>{ clearInterval(timerInterval); isTimerRunning=false; timerSeconds=90; update(); pauseBtn.style.display='none'; doneBtn.style.display='none'; returnToLastExercise(); });
      update();
    }

    window.onload=()=>{
      document.querySelectorAll('.tab-btn').forEach(btn=>btn.addEventListener('click',()=>safeSwitchTab(btn.dataset.tab)));
      document.querySelectorAll('.program-btn').forEach(btn=>{
        btn.addEventListener('click',()=>{
          document.querySelectorAll('.program-btn').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active'); renderWorkout(btn.dataset.program);
        });
      });
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö
      for(const pid in workoutPrograms){ workoutPrograms[pid].exercises.forEach((ex,i)=>{ const k=`${pid}_${i}`; if(weights[k]==null) weights[k]=ex.weight ?? 0; }); }
      renderWorkout('day1'); initTimer(); renderStats();
    };
  </script>
</body>
</html>
