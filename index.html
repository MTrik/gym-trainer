<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

<meta name="description" content="Персональный тренер для спортзала TechnoGym с программами тренировок">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#667eea">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<title>💪 Gym Trainer Pro</title>

<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
-webkit-tap-highlight-color: transparent;
}

body {
font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: #111827;
overflow-x: hidden;
-webkit-user-select: none;
user-select: none;
position: fixed;
width: 100%;
height: 100vh;
}

.app {
width: 100%;
height: 100vh;
display: flex;
flex-direction: column;
background: white;
max-width: 768px;
margin: 0 auto;
box-shadow: 0 25px 50px rgba(0,0,0,0.25);
}

.header {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
padding: env(safe-area-inset-top, 20px) 1.5rem 1.5rem 1.5rem;
flex-shrink: 0;
position: relative;
overflow: hidden;
}

.header::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
animation: shine 3s infinite;
}

@keyframes shine {
0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
}

.header h1 {
font-size: 1.75rem;
margin-bottom: 0.5rem;
font-weight: 800;
text-shadow: 0 2px 10px rgba(0,0,0,0.3);
position: relative;
z-index: 2;
}

.header p {
font-size: 0.9rem;
opacity: 0.95;
font-weight: 500;
position: relative;
z-index: 2;
}

.nav {
background: white;
display: flex;
border-bottom: 1px solid #e5e7eb;
flex-shrink: 0;
position: relative;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.nav-indicator {
position: absolute;
bottom: 0;
height: 4px;
background: linear-gradient(90deg, #667eea, #764ba2);
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
border-radius: 2px 2px 0 0;
box-shadow: 0 -2px 10px rgba(102, 126, 234, 0.4);
}

.nav button {
flex: 1;
padding: 1rem 0.5rem;
background: none;
border: none;
font-size: 0.75rem;
font-weight: 600;
color: #6b7280;
cursor: pointer;
position: relative;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
display: flex;
flex-direction: column;
align-items: center;
gap: 0.25rem;
}

.nav button:hover {
background: rgba(102, 126, 234, 0.05);
color: #667eea;
}

.nav button:active {
transform: scale(0.95);
}

.nav button.active {
color: #667eea;
background: rgba(102, 126, 234, 0.1);
}

.content {
flex: 1;
overflow-y: auto;
-webkit-overflow-scrolling: touch;
padding: 1.5rem;
padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
}

.tab-content {
display: none;
animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.tab-content.active {
display: block;
}

@keyframes fadeInUp {
from { 
opacity: 0; 
transform: translateY(20px);
}
to { 
opacity: 1; 
transform: translateY(0);
}
}

.timer-display {
text-align: center;
padding: 3rem 0;
}

.timer-circle {
width: 220px;
height: 220px;
margin: 0 auto 2rem;
position: relative;
background: linear-gradient(135deg, #667eea, #764ba2);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
box-shadow: 
0 20px 40px rgba(102, 126, 234, 0.3),
0 0 0 10px rgba(255,255,255,0.1),
0 0 0 20px rgba(255,255,255,0.05);
animation: timerPulse 2s infinite;
}

@keyframes timerPulse {
0%, 100% { 
box-shadow: 
0 20px 40px rgba(102, 126, 234, 0.3),
0 0 0 10px rgba(255,255,255,0.1),
0 0 0 20px rgba(255,255,255,0.05);
transform: scale(1);
}
50% { 
box-shadow: 
0 25px 50px rgba(102, 126, 234, 0.4),
0 0 0 15px rgba(255,255,255,0.15),
0 0 0 30px rgba(255,255,255,0.1);
transform: scale(1.02);
}
}

.timer-time {
font-size: clamp(3rem, 8vw, 4rem);
font-weight: 800;
font-family: 'Inter', monospace;
color: white;
text-shadow: 0 2px 20px rgba(0,0,0,0.3);
}

.timer-time.warning {
color: #ef4444;
animation: warningPulse 1s infinite;
}

@keyframes warningPulse {
0%, 100% { opacity: 1; transform: scale(1); }
50% { opacity: 0.8; transform: scale(1.05); }
}

.btn {
padding: 1rem 2rem;
border: none;
border-radius: 16px;
font-weight: 700;
font-size: 0.9rem;
cursor: pointer;
margin: 0.5rem;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
position: relative;
overflow: hidden;
text-transform: uppercase;
letter-spacing: 0.5px;
font-family: 'Inter', sans-serif;
}

.btn:hover {
transform: translateY(-3px);
}

.btn:active {
transform: translateY(-1px);
}

.btn-primary {
background: linear-gradient(135deg, #10b981, #059669);
color: white;
box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
}

.btn-primary:hover {
box-shadow: 0 12px 35px rgba(16, 185, 129, 0.5);
}

.btn-secondary {
background: linear-gradient(135deg, #6b7280, #4b5563);
color: white;
box-shadow: 0 8px 25px rgba(107, 114, 128, 0.4);
}

.btn-info {
background: linear-gradient(135deg, #667eea, #764ba2);
color: white;
box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
}

.workout-selector {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 0.75rem;
margin-bottom: 2rem;
}

.workout-btn {
padding: 1rem 0.75rem;
border: 2px solid #e5e7eb;
border-radius: 16px;
background: white;
cursor: pointer;
text-align: center;
font-size: 0.8rem;
font-weight: 700;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: 0 4px 15px rgba(0,0,0,0.1);
position: relative;
overflow: hidden;
}

.workout-btn::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: linear-gradient(135deg, #667eea, #764ba2);
opacity: 0;
transition: opacity 0.3s;
}

.workout-btn span {
position: relative;
z-index: 2;
}

.workout-btn:hover {
transform: translateY(-4px);
box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.workout-btn.active::before {
opacity: 1;
}

.workout-btn.active {
color: white;
border-color: transparent;
box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
}

.exercise-item {
padding: 1.5rem;
background: white;
border: 2px solid #e5e7eb;
border-radius: 20px;
margin-bottom: 1rem;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: 0 4px 20px rgba(0,0,0,0.08);
cursor: pointer;
position: relative;
overflow: hidden;
}

.exercise-item::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 4px;
height: 100%;
background: linear-gradient(to bottom, #667eea, #764ba2);
transform: scaleY(0);
transition: transform 0.3s;
}

.exercise-item:hover {
transform: translateY(-4px);
box-shadow: 0 8px 30px rgba(0,0,0,0.12);
border-color: #d1d5db;
}

.exercise-item:hover::before {
transform: scaleY(1);
}

.exercise-item.current {
border-color: #667eea;
background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
box-shadow: 0 8px 30px rgba(102, 126, 234, 0.2);
}

.exercise-item.current::before {
transform: scaleY(1);
}

.exercise-item.completed {
border-color: #10b981;
background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(5, 150, 105, 0.05));
box-shadow: 0 8px 30px rgba(16, 185, 129, 0.2);
}

.exercise-item.completed::before {
background: linear-gradient(to bottom, #10b981, #059669);
transform: scaleY(1);
}

.exercise-name {
font-weight: 700;
font-size: 1.1rem;
margin-bottom: 0.5rem;
color: #111827;
}

.exercise-details {
font-size: 0.85rem;
color: #6b7280;
margin-bottom: 0.75rem;
font-weight: 500;
}

.weight-control {
display: flex;
align-items: center;
justify-content: center;
gap: 15px;
margin: 1rem 0;
padding: 1rem;
background: linear-gradient(135deg, #f8fafc, #e2e8f0);
border-radius: 16px;
border: 1px solid #cbd5e1;
box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
}

.weight-display {
font-size: 1.2rem;
font-weight: 800;
color: #1e293b;
min-width: 90px;
text-align: center;
background: white;
padding: 0.75rem 1.25rem;
border-radius: 12px;
box-shadow: 0 4px 12px rgba(0,0,0,0.15);
border: 2px solid #e2e8f0;
}

.weight-btn {
width: 48px;
height: 48px;
border: none;
border-radius: 50%;
font-size: 1.5rem;
font-weight: 800;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
display: flex;
align-items: center;
justify-content: center;
}

.weight-btn:hover {
transform: translateY(-3px) scale(1.05);
}

.weight-easy {
background: linear-gradient(135deg, #10b981, #059669);
color: white;
box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
}

.weight-hard {
background: linear-gradient(135deg, #ef4444, #dc2626);
color: white;
box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
}

.set-dots {
display: flex;
gap: 0.5rem;
margin-top: 1rem;
flex-wrap: wrap;
}

.set-dot {
width: 36px;
height: 36px;
border-radius: 50%;
background: #e5e7eb;
display: flex;
align-items: center;
justify-content: center;
font-size: 0.8rem;
font-weight: 700;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
cursor: pointer;
box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.set-dot:hover {
transform: scale(1.1);
}

.set-dot.completed {
background: linear-gradient(135deg, #10b981, #059669);
color: white;
transform: scale(1.1);
box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
}

.progress-bar {
width: 100%;
height: 10px;
background: #e5e7eb;
border-radius: 5px;
overflow: hidden;
margin-top: 0.75rem;
box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
}

.progress-fill {
height: 100%;
background: linear-gradient(90deg, #10b981, #059669);
transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
}

.stats-grid {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 1rem;
margin-bottom: 2rem;
}

.stat-card {
text-align: center;
padding: 1.5rem;
background: white;
border-radius: 20px;
box-shadow: 0 8px 25px rgba(0,0,0,0.1);
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
position: relative;
overflow: hidden;
}

.stat-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 4px;
background: linear-gradient(90deg, #667eea, #764ba2);
}

.stat-card:hover {
transform: translateY(-4px);
box-shadow: 0 12px 35px rgba(0,0,0,0.15);
}

.stat-value {
font-size: 2.5rem;
font-weight: 800;
background: linear-gradient(135deg, #667eea, #764ba2);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
margin-bottom: 0.5rem;
}

.stat-label {
font-size: 0.8rem;
color: #6b7280;
font-weight: 600;
text-transform: uppercase;
letter-spacing: 1px;
}

.schedule-item {
background: white;
border: 2px solid #e5e7eb;
border-radius: 20px;
padding: 1.5rem;
margin-bottom: 1rem;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: 0 4px 20px rgba(0,0,0,0.08);
cursor: pointer;
position: relative;
overflow: hidden;
}

.schedule-item::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 4px;
height: 100%;
background: linear-gradient(to bottom, #667eea, #764ba2);
transform: scaleY(0);
transition: transform 0.3s;
}

.schedule-item:hover {
transform: translateY(-4px);
box-shadow: 0 8px 30px rgba(0,0,0,0.12);
}

.schedule-item:hover::before {
transform: scaleY(1);
}

.modal {
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: rgba(0,0,0,0.8);
backdrop-filter: blur(10px);
z-index: 1000;
display: none;
align-items: center;
justify-content: center;
padding: 1.5rem;
}

.modal-content {
background: white;
border-radius: 24px;
padding: 2rem;
max-width: 500px;
max-height: 80vh;
overflow-y: auto;
width: 100%;
box-shadow: 0 25px 50px rgba(0,0,0,0.25);
}

.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1.5rem;
padding-bottom: 1rem;
border-bottom: 2px solid #e5e7eb;
}

.modal-title {
margin: 0;
color: #111827;
font-size: 1.3rem;
font-weight: 700;
}

.modal-close {
background: #f3f4f6;
border: none;
font-size: 1.5rem;
cursor: pointer;
padding: 0.5rem;
color: #6b7280;
border-radius: 12px;
transition: all 0.3s;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
}

.modal-close:hover {
background: #e5e7eb;
color: #111827;
transform: scale(1.1);
}

.direction-box {
background: linear-gradient(135deg, #eff6ff, #f3e8ff);
border-radius: 16px;
padding: 1.5rem;
margin-bottom: 1.5rem;
border: 2px solid rgba(102, 126, 234, 0.1);
}

.direction-title {
color: #667eea;
margin: 0 0 0.75rem 0;
font-size: 1rem;
font-weight: 700;
}

.direction-text {
margin: 0;
font-weight: 600;
color: #111827;
font-size: 1rem;
}

.section-title {
margin-bottom: 1rem;
font-size: 1rem;
color: #059669;
font-weight: 700;
}

.section-content {
margin-bottom: 1.5rem;
}

.section-content ol {
padding-left: 1.5rem;
margin-bottom: 1rem;
}

.section-content li {
margin-bottom: 0.5rem;
line-height: 1.5;
font-size: 0.95rem;
}

.important-points {
background: linear-gradient(135deg, #fef3c7, #fde68a);
border-radius: 12px;
padding: 1.25rem;
margin-top: 1rem;
border: 2px solid rgba(245, 158, 11, 0.2);
}

.important-points strong {
color: #92400e;
font-size: 1rem;
}

.important-points ul {
padding-left: 1.5rem;
margin: 0.75rem 0 0 0;
}

.important-points li {
margin-bottom: 0.5rem;
font-size: 0.9rem;
line-height: 1.4;
color: #78350f;
}

@media (max-width: 480px) {
.header {
padding: env(safe-area-inset-top, 15px) 1rem 1rem 1rem;
}

.header h1 {
font-size: 1.5rem;
}

.content {
padding: 1rem;
}

.timer-circle {
width: 180px;
height: 180px;
}

.workout-selector {
grid-template-columns: repeat(2, 1fr);
}

.stats-grid {
grid-template-columns: 1fr;
}
}
</style>
</head>

<body>
<div class="app">
<header class="header">
<h1>💪 Gym Trainer Pro</h1>
<p>Персональный тренер с умными весами</p>
</header>

<nav class="nav">
<div class="nav-indicator" id="nav-indicator"></div>
<button data-tab="timer">⏱️<br>Таймер</button>
<button data-tab="workout" class="active">🏋️<br>Программа</button>
<button data-tab="stats">📊<br>Статистика</button>
<button data-tab="schedule">📅<br>План</button>
</nav>

<main class="content">
<div id="timer-tab" class="tab-content">
<div class="timer-display">
<div class="timer-circle">
<div id="timer-display" class="timer-time">00:00</div>
</div>
<div>
<button id="timer-60" class="btn btn-primary">60 секунд</button>
<button id="timer-90" class="btn btn-primary">90 секунд</button>
<button id="timer-120" class="btn btn-primary">2 минуты</button>
</div>
<div style="margin-top: 1rem;">
<button id="timer-stop" class="btn btn-secondary">Остановить</button>
</div>
</div>
</div>

<div id="workout-tab" class="tab-content active">
<h2 id="workout-title" style="font-size: 1.3rem; margin-bottom: 1.5rem; text-align: center; font-weight: 700;">Выберите программу тренировки</h2>
<div id="workout-selector" class="workout-selector"></div>
<div id="exercise-list"></div>
<div style="text-align: center; margin-top: 2rem;">
<button onclick="completeWorkout()" class="btn btn-info">Завершить тренировку</button>
</div>
</div>

<div id="stats-tab" class="tab-content">
<div class="stats-grid">
<div class="stat-card">
<div id="stat-workouts" class="stat-value">0</div>
<div class="stat-label">Тренировок</div>
</div>
<div class="stat-card">
<div id="stat-exercises" class="stat-value">0</div>
<div class="stat-label">Упражнений</div>
</div>
<div class="stat-card">
<div id="stat-sets" class="stat-value">0</div>
<div class="stat-label">Подходов</div>
</div>
</div>
<div style="text-align: center; margin-top: 2rem;">
<button onclick="resetStats()" class="btn btn-secondary">Сбросить статистику</button>
</div>
</div>

<div id="schedule-tab" class="tab-content">
<h2 style="font-size: 1.3rem; margin-bottom: 1.5rem; font-weight: 700;">Недельный план тренировок</h2>
<div id="schedule-list"></div>
</div>
</main>
</div>

<div id="technique-modal" class="modal">
<div class="modal-content">
<div class="modal-header">
<h3 id="technique-title" class="modal-title">Техника выполнения</h3>
<button id="modal-close" class="modal-close">×</button>
</div>
<div id="technique-content"></div>
</div>
</div>

<script>
// Система управления весами
let exerciseWeights = {};

const baseWeights = {
'А': [20, 25, 15, 30, 10, 4, 8, 8, 10, 15, 0],
'Б': [0, 0, 0, 30, 20, 10, 15, 8, 8],
'В': [20, 50, 20, 15, 25, 0, 0, 0, 15],
'Г': [0, 0, 0, 0, 40, 30, 30, 0]
};

function loadWeights() {
const savedWeights = localStorage.getItem('gymTrainerWeights');
if (savedWeights) {
exerciseWeights = JSON.parse(savedWeights);
} else {
Object.keys(baseWeights).forEach(workout => {
baseWeights[workout].forEach((weight, index) => {
const key = `${workout}-${index}`;
exerciseWeights[key] = weight;
});
});
saveWeights();
}
}

function saveWeights() {
localStorage.setItem('gymTrainerWeights', JSON.stringify(exerciseWeights));
}

function getExerciseWeight(workout, exerciseIndex) {
const key = `${workout}-${exerciseIndex}`;
return exerciseWeights[key] || 0;
}

function adjustWeight(workout, exerciseIndex, adjustment) {
const key = `${workout}-${exerciseIndex}`;
const currentWeight = exerciseWeights[key] || 0;
const newWeight = Math.max(0, currentWeight + adjustment);
exerciseWeights[key] = newWeight;
saveWeights();
renderWorkoutView();
}

function createWeightControl(workout, exerciseIndex, hasWeight) {
if (!hasWeight) return '';
const currentWeight = getExerciseWeight(workout, exerciseIndex);
return `
<div class="weight-control">
<button class="weight-btn weight-easy" onclick="adjustWeight('${workout}', ${exerciseIndex}, -2.5)">−</button>
<div class="weight-display">${currentWeight}кг</div>
<button class="weight-btn weight-hard" onclick="adjustWeight('${workout}', ${exerciseIndex}, 2.5)">+</button>
</div>
`;
}

// Данные программ тренировок
const workoutPrograms = {
'А': {
name: 'День А: Грудь-Плечи-Трицепс',
color: '#ef4444',
exercises: [
{
name: 'Жим от груди (тренажер)',
sets: 4,
reps: '10-12',
weight: '20-25кг',
direction: 'Вперед от груди',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Вперед от груди (горизонтальная плоскость)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Сядьте в тренажер, плотно прижмите спину к спинке</li>
<li>Возьмитесь за рукоятки хватом чуть шире плеч</li>
<li>На выдохе выжмите вес вперед от груди</li>
<li>На вдохе медленно верните в исходное положение</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Локти слегка опущены вниз</li>
<li>Не разгибайте руки полностью</li>
<li>Контролируйте движение в обеих фазах</li>
</ul>
</div>
</div>
`
},
{
name: 'Тяга верхнего блока',
sets: 3,
reps: '10-12',
weight: '25-30кг',
direction: 'Сверху к груди',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Сверху к груди (вертикальная тяга)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Сядьте в тренажер, зафиксируйте ноги валиками</li>
<li>Возьмитесь за рукоятку широким хватом</li>
<li>На выдохе тяните рукоятку к верхней части груди</li>
<li>На вдохе медленно возвращайте в исходное положение</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Тянуть локтями назад, сводя лопатки</li>
<li>Не наклоняйтесь назад</li>
<li>Спина прямая с небольшим прогибом в пояснице</li>
</ul>
</div>
</div>
`
},
{
name: 'Жим на плечи сидя',
sets: 4,
reps: '10-12',
weight: '15-20кг',
direction: 'Строго вверх',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Строго вверх (вертикальный жим)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Сядьте в тренажер, спина плотно прижата</li>
<li>Возьмитесь за рукоятки на уровне плеч</li>
<li>На выдохе выжмите строго вверх над головой</li>
<li>На вдохе опустите в исходное положение</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Траектория четко вертикально вверх</li>
<li>Не выжимайте до полного разгибания рук</li>
<li>Корпус неподвижен, работают только руки</li>
</ul>
</div>
</div>
`
},
{
name: 'Жим в машине Смита',
sets: 4,
reps: '8-10',
weight: '30-40кг',
direction: 'Строго вверх',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Строго вверх (в направляющих тренажера)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Лягте на скамью под штангу Смита</li>
<li>Возьмитесь за штангу чуть шире плеч</li>
<li>На выдохе выжмите штангу вверх</li>
<li>На вдохе опустите до легкого касания груди</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Лопатки сведены и прижаты к скамье</li>
<li>Небольшой прогиб в пояснице</li>
<li>Ноги твердо стоят на полу</li>
</ul>
</div>
</div>
`
},
{
name: 'Сведение рук в кроссовере',
sets: 3,
reps: '12-15',
weight: '10-15кг',
direction: 'Навстречу друг другу',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Навстречу друг другу (дугообразное движение)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Встаньте в центре кроссовера</li>
<li>Возьмитесь за рукоятки верхних блоков</li>
<li>На выдохе сводите руки внизу перед собой</li>
<li>На вдохе разводите руки в исходное положение</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Локти слегка согнуты и зафиксированы</li>
<li>Движение происходит в плечевых суставах</li>
<li>Сохраняйте небольшой наклон вперед</li>
</ul>
</div>
</div>
`
},
{
name: 'Махи гантелями в стороны',
sets: 3,
reps: '12-15',
weight: '4-6кг',
direction: 'До уровня плеч',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">В стороны до уровня плеч</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Встаньте прямо, гантели в опущенных руках</li>
<li>Слегка согните руки в локтях</li>
<li>На выдохе поднимите гантели в стороны</li>
<li>На вдохе медленно опустите вниз</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Поднимайте до уровня плеч, не выше</li>
<li>Не раскачивайте корпус</li>
<li>Контролируйте опускание гантелей</li>
</ul>
</div>
</div>
`
},
{
name: 'Подъем гантелей на бицепс',
sets: 3,
reps: '12-15',
weight: '8-12кг',
direction: 'Вверх к груди',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Вверх к груди (сгибание в локтях)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Встаньте прямо, гантели в руках</li>
<li>Локти прижмите к корпусу</li>
<li>На выдохе сгибайте руки к груди</li>
<li>На вдохе медленно опускайте</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Локти неподвижны относительно корпуса</li>
<li>Полная амплитуда движения</li>
<li>Избегайте раскачивания и читинга</li>
</ul>
</div>
</div>
`
},
{
name: 'Французский жим',
sets: 3,
reps: '12-15',
weight: '8-10кг',
direction: 'К голове и обратно',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">К голове и обратно (разгибание в локтях)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Лягте на скамью, штанга в вытянутых руках</li>
<li>Зафиксируйте плечи перпендикулярно корпусу</li>
<li>На вдохе опустите штангу ко лбу</li>
<li>На выдохе разогните руки в исходное положение</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Движение только в локтевых суставах</li>
<li>Плечи неподвижны</li>
<li>Контролируйте опускание веса</li>
</ul>
</div>
</div>
`
},
{
name: 'Разгибание на блоке',
sets: 3,
reps: '15',
weight: '10-15кг',
direction: 'Строго вниз',
technique: `
<div class="direction-box">
<h4 class="direction-title">Направление движения:</h4>
<p class="direction-text">Строго вниз (разгибание в локтях)</p>
</div>
<h4 class="section-title">Техника выполнения:</h4>
<div class="section-content">
<ol>
<li>Встаньте лицом к блоку</li>
<li>Возьмитесь за рукоятку, локти у корпуса</li>
<li>На выдохе разогните руки вниз</li>
<li>На вдохе вернитесь в исходное положение</li>
</ol>
<div class="important-points">
<strong>Важные моменты:</strong>
<ul>
<li>Локти неподвижно прижаты к корпусу</li>
<li>Полное разгибание в нижней точке</li>
<li>Медленное возвращение в исходное положение</li>
</ul>
</div>
</div>
`
},
{
name: 'Пресс в тренажере',
sets: 3,
reps: '15-20',
weight: '15-20кг',
direction: 'Вперед к коленям'
}
]
},
'Б': {
name: 'День Б: Спина-Бицепс + Кардио',
color: '#10b981',
exercises: [
{
name: 'Беговая дорожка',
sets: 1,
reps: '10 мин',
weight: '',
direction: 'Вперед (кардио)'
},
{
name: 'Гребной тренажер',
sets: 1,
reps: '8 мин',
weight: '',
direction: 'К себе и от себя'
},
{
name: 'Эллиптический тренажер',
sets: 1,
reps: '5 мин',
weight: '',
direction: 'Овальная траектория'
},
{
name: 'Тяга верхнего блока',
sets: 4,
reps: '8-10',
weight: '30-35кг',
direction: 'Сверху к груди'
},
{
name: 'Тяга штанги в наклоне',
sets: 4,
reps: '10-12',
weight: '20-30кг',
direction: 'К животу в наклоне'
},
{
name: 'Тяга гантели к поясу',
sets: 3,
reps: '12',
weight: '10-15кг',
direction: 'К поясу в наклоне'
},
{
name: 'Подъем штанги на бицепс',
sets: 4,
reps: '10-12',
weight: '15-20кг',
direction: 'Вверх к груди'
},
{
name: 'Подъем гантелей на бицепс',
sets: 3,
reps: '12',
weight: '8-12кг',
direction: 'К плечам'
},
{
name: 'Молотки',
sets: 3,
reps: '15',
weight: '8-10кг',
direction: 'Вверх вдоль тела'
}
]
},
'В': {
name: 'День В: Ноги-Пресс',
color: '#3b82f6',
exercises: [
{
name: 'Приседания',
sets: 4,
reps: '10-12',
weight: '20-30кг',
direction: 'Вниз-назад и вверх'
},
{
name: 'Жим ногами',
sets: 3,
reps: '12-15',
weight: '40-60кг',
direction: 'От груди вперед'
},
{
name: 'Разгибания ног',
sets: 3,
reps: '12-15',
weight: '20-25кг',
direction: 'Вверх-вперед'
},
{
name: 'Сгибания ног',
sets: 3,
reps: '12-15',
weight: '15-20кг',
direction: 'К ягодицам'
},
{
name: 'Подъемы на носки',
sets: 4,
reps: '20',
weight: '20-30кг',
direction: 'Строго вверх'
},
{
name: 'Планка',
sets: 3,
reps: '60сек',
weight: '',
direction: 'Статическое удержание'
},
{
name: 'Скручивания',
sets: 3,
reps: '20',
weight: '',
direction: 'Вверх к коленям'
},
{
name: 'Велосипед',
sets: 3,
reps: '30',
weight: '',
direction: 'Диагональное скручивание'
},
{
name: 'Пресс в тренажере',
sets: 3,
reps: '12-15',
weight: '15-20кг',
direction: 'Вперед к коленям'
}
]
},
'Г': {
name: 'День Г: Функциональная + Силовая',
color: '#f97316',
exercises: [
{
name: 'Беговая дорожка разминка',
sets: 1,
reps: '10 мин',
weight: '',
direction: 'Вперед'
},
{
name: 'Эллиптический тренажер',
sets: 1,
reps: '10 мин',
weight: '',
direction: 'Овальная траектория'
},
{
name: 'Упражнения с петлями TRX',
sets: 3,
reps: '30сек',
weight: 'Собственный вес',
direction: 'Многоплоскостные'
},
{
name: 'Упражнения на баланс',
sets: 2,
reps: '1 мин',
weight: '',
direction: 'Статическое удержание'
},
{
name: 'Приседания силовые',
sets: 4,
reps: '6-8',
weight: '40-50кг',
direction: 'Вниз-назад и вверх'
},
{
name: 'Жим силовой',
sets: 4,
reps: '6-8',
weight: '30-40кг',
direction: 'Вперед от груди'
},
{
name: 'Тяга силовая',
sets: 3,
reps: '8-10',
weight: '30-35кг',
direction: 'Сверху к груди'
},
{
name: 'Растяжка всех групп мышц',
sets: 1,
reps: '5 мин',
weight: '',
direction: 'Медленное растягивание'
}
]
}
};

// Состояние приложения
let currentWorkout = 'А';
let currentExerciseIndex = 0;
let completedSets = {};
let timerInterval = null;
let timeRemaining = 0;
let isTimerRunning = false;
let stats = {
totalWorkouts: 0,
totalSets: 0,
totalExercises: 0
};

function loadData() {
const savedStats = localStorage.getItem('gymTrainerStats');
if (savedStats) {
stats = JSON.parse(savedStats);
}
const savedCompletedSets = localStorage.getItem('gymTrainerSets');
if (savedCompletedSets) {
completedSets = JSON.parse(savedCompletedSets);
}
}

function saveData() {
localStorage.setItem('gymTrainerStats', JSON.stringify(stats));
localStorage.setItem('gymTrainerSets', JSON.stringify(completedSets));
}

function init() {
loadData();
loadWeights();
setupNavigation();
setupWorkoutSelector();
setupTimer();
renderWorkoutView();
renderStatsView();
renderScheduleView();
showTab('workout');
updateNavIndicator();
}

function updateNavIndicator() {
const activeBtn = document.querySelector('.nav button.active');
const indicator = document.getElementById('nav-indicator');
if (activeBtn && indicator) {
const navButtons = document.querySelectorAll('.nav button');
const activeIndex = Array.from(navButtons).indexOf(activeBtn);
const btnWidth = activeBtn.offsetWidth;
indicator.style.width = btnWidth + 'px';
indicator.style.left = (activeIndex * btnWidth) + 'px';
}
}

function setupNavigation() {
const navButtons = document.querySelectorAll('.nav button');
navButtons.forEach(button => {
button.addEventListener('click', () => {
const tab = button.getAttribute('data-tab');
showTab(tab);
});
});
}

function showTab(tabName) {
document.querySelectorAll('.nav button').forEach(btn => btn.classList.remove('active'));
document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
document.getElementById(`${tabName}-tab`).classList.add('active');
updateNavIndicator();
}

function setupWorkoutSelector() {
const selector = document.getElementById('workout-selector');
Object.keys(workoutPrograms).forEach(key => {
const button = document.createElement('button');
button.className = 'workout-btn';
button.innerHTML = `<span>${key}</span>`;
button.addEventListener('click', () => selectWorkout(key));
selector.appendChild(button);
});
selectWorkout('А');
}

function selectWorkout(workout) {
currentWorkout = workout;
currentExerciseIndex = 0;

document.querySelectorAll('.workout-btn').forEach(btn => {
btn.classList.remove('active');
if (btn.textContent.trim() === workout) {
btn.classList.add('active');
}
});

renderWorkoutView();
}

function renderWorkoutView() {
const program = workoutPrograms[currentWorkout];
const container = document.getElementById('exercise-list');

document.getElementById('workout-title').textContent = program.name;
document.getElementById('workout-title').style.color = program.color;

container.innerHTML = '';

program.exercises.forEach((exercise, index) => {
const exerciseDiv = document.createElement('div');
exerciseDiv.className = 'exercise-item';

if (index === currentExerciseIndex) {
exerciseDiv.classList.add('current');
}

const exerciseKey = `${currentWorkout}-${index}`;
const completedCount = completedSets[exerciseKey] || 0;
if (completedCount >= exercise.sets) {
exerciseDiv.classList.add('completed');
}

const hasWeight = exercise.weight && exercise.weight !== '' && !exercise.weight.includes('сек') && !exercise.weight.includes('мин');
const weightDisplay = hasWeight ? getExerciseWeight(currentWorkout, index) + 'кг' : '';

exerciseDiv.innerHTML = `
<div class="exercise-name">${exercise.name}</div>
<div class="exercise-details">${exercise.sets}×${exercise.reps} ${weightDisplay ? '(' + weightDisplay + ')' : ''}</div>
<div class="exercise-details" style="color: ${program.color}; font-weight: 600;">
${exercise.direction}
</div>
${createWeightControl(currentWorkout, index, hasWeight)}
<div class="set-dots">
${Array(exercise.sets).fill().map((_, setIndex) => {
const isCompleted = setIndex < completedCount;
return `<div class="set-dot ${isCompleted ? 'completed' : ''}" onclick="toggleSet('${exerciseKey}', ${setIndex}, ${exercise.sets})">${setIndex + 1}</div>`;
}).join('')}
</div>
<div class="progress-bar">
<div class="progress-fill" style="width: ${(completedCount / exercise.sets) * 100}%"></div>
</div>
`;

if (exercise.technique) {
exerciseDiv.addEventListener('click', (e) => {
if (!e.target.classList.contains('weight-btn')) {
showTechnique(exercise);
}
});
}

container.appendChild(exerciseDiv);
});
}

function toggleSet(exerciseKey, setIndex, totalSets) {
event.stopPropagation();
const currentCount = completedSets[exerciseKey] || 0;

if (setIndex < currentCount) {
completedSets[exerciseKey] = setIndex;
} else if (setIndex === currentCount) {
completedSets[exerciseKey] = setIndex + 1;
stats.totalSets++;

if (setIndex + 1 >= totalSets) {
stats.totalExercises++;
currentExerciseIndex++;
}

if (setIndex + 1 < totalSets) {
startRestTimer();
}
}

saveData();
renderWorkoutView();
renderStatsView();
}

function showTechnique(exercise) {
if (!exercise.technique) return;

const modal = document.getElementById('technique-modal');
const content = document.getElementById('technique-content');

document.getElementById('technique-title').textContent = exercise.name;
content.innerHTML = exercise.technique;

modal.style.display = 'flex';
}

function closeTechniqueModal() {
document.getElementById('technique-modal').style.display = 'none';
}

function setupTimer() {
document.getElementById('timer-60').addEventListener('click', () => startTimer(60));
document.getElementById('timer-90').addEventListener('click', () => startTimer(90));
document.getElementById('timer-120').addEventListener('click', () => startTimer(120));
document.getElementById('timer-stop').addEventListener('click', stopTimer);

document.getElementById('modal-close').addEventListener('click', closeTechniqueModal);

document.getElementById('technique-modal').addEventListener('click', (e) => {
if (e.target.id === 'technique-modal') {
closeTechniqueModal();
}
});
}

function startTimer(seconds) {
stopTimer();
timeRemaining = seconds;
isTimerRunning = true;

timerInterval = setInterval(() => {
timeRemaining--;
updateTimerDisplay();

if (timeRemaining <= 0) {
stopTimer();
if (navigator.vibrate) {
navigator.vibrate([200, 100, 200]);
}
}
}, 1000);

updateTimerDisplay();
}

function startRestTimer() {
startTimer(90);
}

function stopTimer() {
if (timerInterval) {
clearInterval(timerInterval);
timerInterval = null;
}
isTimerRunning = false;
timeRemaining = 0;
updateTimerDisplay();
}

function updateTimerDisplay() {
const display = document.getElementById('timer-display');
const minutes = Math.floor(Math.abs(timeRemaining) / 60);
const seconds = Math.abs(timeRemaining) % 60;

display.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

if (timeRemaining <= 10 && timeRemaining > 0) {
display.classList.add('warning');
} else {
display.classList.remove('warning');
}
}

function renderStatsView() {
document.getElementById('stat-workouts').textContent = stats.totalWorkouts;
document.getElementById('stat-exercises').textContent = stats.totalExercises;
document.getElementById('stat-sets').textContent = stats.totalSets;
}

function resetStats() {
if (confirm('Вы уверены, что хотите сбросить всю статистику?')) {
stats = { totalWorkouts: 0, totalSets: 0, totalExercises: 0 };
completedSets = {};
currentExerciseIndex = 0;
saveData();
renderStatsView();
renderWorkoutView();
}
}

function renderScheduleView() {
const schedule = [
{ day: 'Понедельник', workout: 'А', description: 'Грудь-Плечи-Трицепс' },
{ day: 'Вторник', workout: 'В', description: 'Ноги-Пресс' },
{ day: 'Среда', workout: 'Отдых', description: 'Восстановление' },
{ day: 'Четверг', workout: 'Б', description: 'Спина-Бицепс + Кардио' },
{ day: 'Пятница', workout: 'А', description: 'Грудь-Плечи-Трицепс' },
{ day: 'Суббота', workout: 'Г', description: 'Функциональная + Силовая' },
{ day: 'Воскресенье', workout: 'Отдых', description: 'Восстановление' }
];

const container = document.getElementById('schedule-list');
container.innerHTML = '';

schedule.forEach(item => {
const scheduleDiv = document.createElement('div');
scheduleDiv.className = 'schedule-item';

scheduleDiv.innerHTML = `
<div style="font-weight: 700; margin-bottom: 0.5rem; font-size: 1.1rem;">${item.day}</div>
<div style="color: ${item.workout !== 'Отдых' ? workoutPrograms[item.workout]?.color || '#6b7280' : '#6b7280'}; font-weight: 600; margin-bottom: 0.25rem;">
Программа ${item.workout}
</div>
<div style="font-size: 0.9rem; color: #6b7280;">${item.description}</div>
`;

if (item.workout !== 'Отдых' && workoutPrograms[item.workout]) {
scheduleDiv.addEventListener('click', () => {
selectWorkout(item.workout);
showTab('workout');
});
}

container.appendChild(scheduleDiv);
});
}

function completeWorkout() {
stats.totalWorkouts++;
completedSets = {};
currentExerciseIndex = 0;
saveData();
renderStatsView();
renderWorkoutView();

alert('🎉 Тренировка завершена! Отличная работа! 💪');
}

document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
