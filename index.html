<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

<!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<meta name="description" content="–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä –¥–ª—è —Å–ø–æ—Ä—Ç–∑–∞–ª–∞ TechnoGym —Å –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫">
<meta name="keywords" content="—Ñ–∏—Ç–Ω–µ—Å, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —Å–ø–æ—Ä—Ç–∑–∞–ª, —Ç–∞–π–º–µ—Ä, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä, TechnoGym, TRX">
<meta name="author" content="Gym Trainer Pro">

<!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç PWA -->
<link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkd5bSBUcmFpbmVyIFBybyIsCiAgInNob3J0X25hbWUiOiAiR3ltVHJhaW5lciIsCiAgImRlc2NyaXB0aW9uIjogItCf0LXRgNGB0L7QvdCw0LvRjNC90YvQuSDRgtGA0LXQvdC10YAg0LTQu9GP–ò–ù–ìB0L/QvtGA0YLQt9Cw0LvQsCIsCiAgInN0YXJ0X3VybCI6ICIvaW5kZXguaHRtbCIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2ZmZmZmZiIsCiAgInRoZW1lX2NvbG9yIjogIiMzYjgyZjYiLAogICJvcmllbnRhdGlvbiI6ICJwb3J0cmFpdCIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSUFBQUFDQUNBWUFBQURkZDBlOEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBM1pwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOStJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdmJtVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVOaTFqTVRRMUlEYzVMakUyTXpRNU9Td2dNakF4T0M4d09DOHhNeTB4TmpvME1EbzlJaUE4Y21SbU9sSkVSaUI0Yld4dWN6cHlaR1k5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZNREl2TWpJdGNtUm1MWE41Ym5SaGVDMXVjeU1pUGlBOGNtUm1PaVJsYzJOeWFYQjBhVzl1SUhKa1pqcGhZbTkxZEQwaUlpQjRiV3h1Y3pwNGJYQTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzhpSUhodGJHNXpPbmh0Y0VGVElEMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdU1TNHdMM05VZVhCbEwxSmxjMjkxY21ObFJYWmxiblFqSWlCNGJXeHVjenAxYzJWeWRIbHdaVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NGNHVnliV0ZuSWlCNGJYQnRUMDFOT2tsa1VtVm1JRDBpZUcxd0xtbHBaRG90TW1ZMllUVmhZMlEwWXkxa1l6Y3dMVFEwWm1JdFlUa3hZaTFoWVRrek9ESXdZVFEwTWpJaVBpQThjbVJtT21SbGMyTnlhWEIwYVc5dUlISmtaam9g", 
      "sizes": "192x192",
      "type": "image/png"
    }
  ]
}">

<!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Gym Trainer">

<!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è Android -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#3b82f6">

<title>üí™ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä TechnoGym</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #f3f4f6;
  color: #111827;
  overflow-x: hidden;
  -webkit-user-select: none;
  user-select: none;
  position: fixed;
  width: 100%;
  height: 100vh;
}

.app {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: white;
  max-width: 768px;
  margin: 0 auto;
}

.header {
  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
  color: white;
  padding: env(safe-area-inset-top, 20px) 1rem 1rem 1rem;
  flex-shrink: 0;
}

.header h1 {
  font-size: 1.5rem;
  margin-bottom: 0.25rem;
  font-weight: 700;
}

.header p {
  font-size: 0.875rem;
  opacity: 0.9;
}

.nav {
  background: white;
  display: flex;
  border-bottom: 1px solid #e5e7eb;
  flex-shrink: 0;
}

.nav button {
  flex: 1;
  padding: 0.75rem 0.5rem;
  background: none;
  border: none;
  font-size: 0.7rem;
  font-weight: 600;
  color: #6b7280;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

.nav button:active {
  transform: scale(0.95);
}

.nav button.active {
  color: #3b82f6;
  background: #eff6ff;
}

.nav button.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6);
}

.content {
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding: 1rem;
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
}

.tab-content {
  display: none;
  animation: fadeIn 0.3s ease-in-out;
}

.tab-content.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.timer-display {
  text-align: center;
  padding: 2rem 0;
}

.timer-time {
  font-size: clamp(3rem, 8vw, 4.5rem);
  font-weight: 700;
  font-family: 'SF Mono', Monaco, monospace;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.timer-time.warning {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.05); }
}

.btn {
  padding: 0.875rem 1.5rem;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  margin: 0.25rem;
  transition: all 0.2s ease;
}

.btn:active {
  transform: scale(0.95);
}

.btn-primary {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.btn-secondary {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  color: white;
  box-shadow: 0 4px 12px rgba(107, 114, 128, 0.3);
}

.btn-info {
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: white;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.workout-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.workout-btn {
  padding: 0.75rem 0.5rem;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  background: white;
  cursor: pointer;
  text-align: center;
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.workout-btn:active {
  transform: scale(0.95);
}

.workout-btn.active {
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  color: white;
  border-color: transparent;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.exercise-item {
  padding: 1rem;
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  margin-bottom: 0.75rem;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  cursor: pointer;
}

.exercise-item:active {
  transform: scale(0.98);
}

.exercise-item.current {
  border-color: #3b82f6;
  background: linear-gradient(135deg, #eff6ff, #f0f9ff);
  box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15);
}

.exercise-item.completed {
  border-color: #10b981;
  background: linear-gradient(135deg, #d1fae5, #ecfdf5);
  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.15);
}

.exercise-name {
  font-weight: 600;
  font-size: 0.9rem;
  margin-bottom: 0.25rem;
}

.exercise-details {
  font-size: 0.8rem;
  color: #6b7280;
  margin-bottom: 0.5rem;
}

.set-dots {
  display: flex;
  gap: 0.375rem;
  margin-top: 0.75rem;
  flex-wrap: wrap;
}

.set-dot {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
  border: 2px solid transparent;
  cursor: pointer;
}

.set-dot.completed {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  border-color: #10b981;
  transform: scale(1.05);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: #e5e7eb;
  border-radius: 4px;
  overflow: hidden;
  margin-top: 0.5rem;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #10b981, #059669);
  transition: width 0.3s ease;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.stat-card {
  text-align: center;
  padding: 1rem;
  background: linear-gradient(135deg, #f9fafb, #f3f4f6);
  border-radius: 12px;
  border: 1px solid #e5e7eb;
}

.stat-value {
  font-size: 1.75rem;
  font-weight: 700;
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-label {
  font-size: 0.75rem;
  color: #6b7280;
  font-weight: 500;
  margin-top: 0.25rem;
}

.schedule-item {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 0.75rem;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  cursor: pointer;
}

.schedule-item:active {
  transform: scale(0.98);
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.8);
  z-index: 1000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.modal-content {
  background: white;
  border-radius: 16px;
  padding: 1.5rem;
  max-width: 500px;
  max-height: 80vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  width: 100%;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.modal-title {
  margin: 0;
  color: #111827;
  font-size: 1.1rem;
}

.modal-close {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0;
  color: #6b7280;
}

.direction-box {
  background: linear-gradient(135deg, #eff6ff, #f3e8ff);
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 1rem;
}

.direction-title {
  color: #3b82f6;
  margin: 0 0 0.5rem 0;
  font-size: 0.9rem;
}

.direction-text {
  margin: 0;
  font-weight: 600;
  color: #111827;
  font-size: 0.9rem;
}

.section-title {
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  color: #059669;
}

.section-content {
  margin-bottom: 1rem;
}

.section-content ol {
  padding-left: 1.5rem;
  margin-bottom: 0.5rem;
}

.section-content li {
  margin-bottom: 0.25rem;
  line-height: 1.4;
}

.important-points {
  background: linear-gradient(135deg, #fef3c7, #fde68a);
  border-radius: 8px;
  padding: 0.75rem;
  margin-top: 0.5rem;
}

.important-points ul {
  padding-left: 1.25rem;
  margin: 0;
}

.important-points li {
  margin-bottom: 0.25rem;
  font-size: 0.85rem;
  line-height: 1.3;
}

.trx-exercise {
  background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
  border-radius: 8px;
  padding: 0.75rem;
  margin: 0.5rem 0;
  border-left: 4px solid #3b82f6;
}

.trx-exercise h5 {
  color: #1e40af;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
}
</style>
</head>

<body>
<div class="app">
<header class="header">
<h1>üí™ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä</h1>
<p>TechnoGym + TRX —Å–∏—Å—Ç–µ–º–∞</p>
</header>

<nav class="nav">
<button data-tab="timer">‚è±Ô∏è –¢–∞–π–º–µ—Ä</button>
<button data-tab="workout" class="active">üèãÔ∏è –ü—Ä–æ–≥—Ä–∞–º–º–∞</button>
<button data-tab="stats">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
<button data-tab="schedule">üìÖ –ü–ª–∞–Ω</button>
</nav>

<main class="content">
<!-- –í–∫–ª–∞–¥–∫–∞ –¢–∞–π–º–µ—Ä -->
<div id="timer-tab" class="tab-content">
<div class="timer-display">
<div id="timer-display" class="timer-time">00:00</div>
<div>
<button id="timer-60" class="btn btn-primary">60—Å</button>
<button id="timer-90" class="btn btn-primary">90—Å</button>
<button id="timer-120" class="btn btn-primary">120—Å</button>
</div>
<div style="margin-top: 1rem;">
<button id="timer-stop" class="btn btn-secondary">–°—Ç–æ–ø</button>
</div>
</div>
</div>

<!-- –í–∫–ª–∞–¥–∫–∞ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ -->
<div id="workout-tab" class="tab-content active">
<h2 id="workout-title" style="font-size: 1.1rem; margin-bottom: 1rem; text-align: center;">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É</h2>
<div id="workout-selector" class="workout-selector"></div>
<div id="exercise-list"></div>
<div style="text-align: center; margin-top: 2rem;">
<button onclick="completeWorkout()" class="btn btn-info">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
</div>
</div>

<!-- –í–∫–ª–∞–¥–∫–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div id="stats-tab" class="tab-content">
<div class="stats-grid">
<div class="stat-card">
<div id="stat-workouts" class="stat-value">0</div>
<div class="stat-label">–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div>
</div>
<div class="stat-card">
<div id="stat-exercises" class="stat-value">0</div>
<div class="stat-label">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–π</div>
</div>
<div class="stat-card">
<div id="stat-sets" class="stat-value">0</div>
<div class="stat-label">–ü–æ–¥—Ö–æ–¥–æ–≤</div>
</div>
</div>
</div>

<!-- –í–∫–ª–∞–¥–∫–∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
<div id="schedule-tab" class="tab-content">
<h2 style="font-size: 1.1rem; margin-bottom: 1rem;">–ù–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω</h2>
<div id="schedule-list"></div>
</div>
</main>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–µ—Ö–Ω–∏–∫–∏ -->
<div id="technique-modal" class="modal">
<div class="modal-content">
<div class="modal-header">
<h3 id="technique-title" class="modal-title">–¢–µ—Ö–Ω–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</h3>
<button id="modal-close" class="modal-close">√ó</button>
</div>
<div id="technique-content"></div>
</div>
</div>

<script>
// Service Worker –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('data:text/javascript,' + encodeURIComponent(`
    self.addEventListener('install', e => {
      e.waitUntil(
        caches.open('gym-v1').then(cache => {
          return cache.addAll(['/']);
        })
      );
    });
    self.addEventListener('fetch', e => {
      e.respondWith(
        caches.match(e.request).then(response => {
          return response || fetch(e.request);
        })
      );
    });
  `));
}

// –ü–æ–ª–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
const workoutPrograms = {
  '–ê': {
    name: '–î–µ–Ω—å –ê: –ì—Ä—É–¥—å-–ü–ª–µ—á–∏-–¢—Ä–∏—Ü–µ–ø—Å',
    color: '#ef4444',
    exercises: [
      {
        name: '–ñ–∏–º –æ—Ç –≥—Ä—É–¥–∏ (TechnoGym)',
        sets: 4,
        reps: '10-12',
        weight: '20-25–∫–≥',
        direction: '–í–ø–µ—Ä–µ–¥ –æ—Ç –≥—Ä—É–¥–∏',
        technique: `
          <div class="direction-box">
            <h4 class="direction-title">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è:</h4>
            <p class="direction-text">–í–ø–µ—Ä–µ–¥ –æ—Ç –≥—Ä—É–¥–∏ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–ª–æ—Å–∫–æ—Å—Ç—å)</p>
          </div>
          <h4 class="section-title">–¢–µ—Ö–Ω–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</h4>
          <div class="section-content">
            <ol>
              <li>–°—è–¥—å—Ç–µ –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä TechnoGym Chest Press</li>
              <li>–ü–ª–æ—Ç–Ω–æ –ø—Ä–∏–∂–º–∏—Ç–µ —Å–ø–∏–Ω—É –∫ —Å–ø–∏–Ω–∫–µ</li>
              <li>–í–æ–∑—å–º–∏—Ç–µ—Å—å –∑–∞ —Ä—É–∫–æ—è—Ç–∫–∏ —Ö–≤–∞—Ç–æ–º —á—É—Ç—å —à–∏—Ä–µ –ø–ª–µ—á</li>
              <li>–ù–∞ –≤—ã–¥–æ—Ö–µ –≤—ã–∂–º–∏—Ç–µ –≤–µ—Å –≤–ø–µ—Ä–µ–¥ –æ—Ç –≥—Ä—É–¥–∏</li>
              <li>–ù–∞ –≤–¥–æ—Ö–µ –º–µ–¥–ª–µ–Ω–Ω–æ –≤–µ—Ä–Ω–∏—Ç–µ –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
            </ol>
            <div class="important-points">
              <strong>–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã TechnoGym:</strong>
              <ul>
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞–≤–Ω–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞</li>
                <li>–õ–æ–∫—Ç–∏ —Å–ª–µ–≥–∫–∞ –æ–ø—É—â–µ–Ω—ã –≤–Ω–∏–∑</li>
                <li>–ù–µ —Ä–∞–∑–≥–∏–±–∞–π—Ç–µ —Ä—É–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é</li>
                <li>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤ –æ–±–µ–∏—Ö —Ñ–∞–∑–∞—Ö</li>
              </ul>
            </div>
          </div>
        `
      },
      {
        name: '–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (TechnoGym)',
        sets: 3,
        reps: '10-12',
        weight: '25-30–∫–≥',
        direction: '–°–≤–µ—Ä—Ö—É –∫ –≥—Ä—É–¥–∏',
        technique: `
          <div class="direction-box">
            <h4 class="direction-title">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è:</h4>
            <p class="direction-text">–°–≤–µ—Ä—Ö—É –∫ –≥—Ä—É–¥–∏ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ-–¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–∞—è —Ç—è–≥–∞)</p>
          </div>
          <h4 class="section-title">–¢–µ—Ö–Ω–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</h4>
          <div class="section-content">
            <ol>
              <li>–°—è–¥—å—Ç–µ –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä TechnoGym Lat Machine</li>
              <li>–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –Ω–æ–≥–∏ –ø–æ–¥ –≤–∞–ª–∏–∫–∞–º–∏</li>
              <li>–í–æ–∑—å–º–∏—Ç–µ—Å—å –∑–∞ —Ä—É–∫–æ—è—Ç–∫—É —à–∏—Ä–æ–∫–∏–º —Ö–≤–∞—Ç–æ–º</li>
              <li>–ù–∞ –≤—ã–¥–æ—Ö–µ —Ç—è–Ω–∏—Ç–µ —Ä—É–∫–æ—è—Ç–∫—É –∫ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –≥—Ä—É–¥–∏</li>
              <li>–ù–∞ –≤–¥–æ—Ö–µ –º–µ–¥–ª–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
            </ol>
            <div class="important-points">
              <strong>–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong>
              <ul>
                <li>–°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–æ–≥–∏–± –≤ –ø–æ—è—Å–Ω–∏—Ü–µ</li>
                <li>–¢—è–Ω—É—Ç—å –ª–æ–∫—Ç—è–º–∏ –Ω–∞–∑–∞–¥, —Å–≤–æ–¥—è –ª–æ–ø–∞—Ç–∫–∏</li>
                <li>–ù–µ –Ω–∞–∫–ª–æ–Ω—è–π—Ç–µ—Å—å –Ω–∞–∑–∞–¥</li>
              </ul>
            </div>
          </div>
        `
      },
      {
        name: '–ñ–∏–º –Ω–∞ –ø–ª–µ—á–∏ —Å–∏–¥—è (TechnoGym)',
        sets: 4,
        reps: '10-12',
        weight: '15-20–∫–≥',
        direction: '–°—Ç—Ä–æ–≥–æ –≤–≤–µ—Ä—Ö'
      },
      {
        name: '–ñ–∏–º –≤ –°–º–∏—Ç–µ',
        sets: 4,
        reps: '8-10',
        weight: '30-40–∫–≥',
        direction: '–°—Ç—Ä–æ–≥–æ –≤–≤–µ—Ä—Ö'
      },
      {
        name: '–°–≤–µ–¥–µ–Ω–∏–µ –≤ –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–µ (TechnoGym)',
        sets: 3,
        reps: '12-15',
        weight: '10-15–∫–≥',
        direction: '–ù–∞–≤—Å—Ç—Ä–µ—á—É –¥—Ä—É–≥ –¥—Ä—É–≥—É'
      },
      {
        name: '–ú–∞—Ö–∏ –≥–∞–Ω—Ç–µ–ª—è–º–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã',
        sets: 3,
        reps: '12-15',
        weight: '4-6–∫–≥',
        direction: '–î–æ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á'
      },
      {
        name: '–ü–æ–¥—ä–µ–º –Ω–∞ –±–∏—Ü–µ–ø—Å',
        sets: 3,
        reps: '12-15',
        weight: '8-12–∫–≥',
        direction: '–í–≤–µ—Ä—Ö –∫ –≥—Ä—É–¥–∏'
      },
      {
        name: '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º',
        sets: 3,
        reps: '12-15',
        weight: '8-10–∫–≥',
        direction: '–ö –≥–æ–ª–æ–≤–µ –∏ –æ–±—Ä–∞—Ç–Ω–æ'
      },
      {
        name: '–†–∞–∑–≥–∏–±–∞–Ω–∏–µ –Ω–∞ –±–ª–æ–∫–µ',
        sets: 3,
        reps: '15',
        weight: '10-15–∫–≥',
        direction: '–°—Ç—Ä–æ–≥–æ –≤–Ω–∏–∑'
      },
      {
        name: '–ü—Ä–µ—Å—Å –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ (TechnoGym)',
        sets: 3,
        reps: '15-20',
        weight: '15-20–∫–≥',
        direction: '–í–ø–µ—Ä–µ–¥ –∫ –∫–æ–ª–µ–Ω—è–º'
      },
      {
        name: '–ü–ª–∞–Ω–∫–∞',
        sets: 3,
        reps: '30-45—Å–µ–∫',
        weight: '',
        direction: '–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ'
      }
    ]
  },
  '–ë': {
    name: '–î–µ–Ω—å –ë: –°–ø–∏–Ω–∞-–ë–∏—Ü–µ–ø—Å + –ö–∞—Ä–¥–∏–æ',
    color: '#10b981',
    exercises: [
      {
        name: '–ë–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞ (TechnoGym)',
        sets: 1,
        reps: '10 –º–∏–Ω',
        weight: '',
        direction: '–í–ø–µ—Ä–µ–¥'
      },
      {
        name: '–ì—Ä–µ–±–Ω–æ–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä (TechnoGym)',
        sets: 1,
        reps: '8 –º–∏–Ω',
        weight: '',
        direction: '–ö —Å–µ–±–µ –∏ –æ—Ç —Å–µ–±—è'
      },
      {
        name: '–≠–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä (TechnoGym)',
        sets: 1,
        reps: '5 –º–∏–Ω',
        weight: '',
        direction: '–û–≤–∞–ª—å–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è'
      },
      {
        name: '–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (TechnoGym)',
        sets: 4,
        reps: '8-10',
        weight: '30-35–∫–≥',
        direction: '–°–≤–µ—Ä—Ö—É –∫ –≥—Ä—É–¥–∏'
      },
      {
        name: '–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ',
        sets: 4,
        reps: '10-12',
        weight: '20-30–∫–≥',
        direction: '–ö –∂–∏–≤–æ—Ç—É –≤ –Ω–∞–∫–ª–æ–Ω–µ'
      },
      {
        name: '–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –∫ –ø–æ—è—Å—É',
        sets: 3,
        reps: '12',
        weight: '10-15–∫–≥',
        direction: '–ö –ø–æ—è—Å—É –≤ –Ω–∞–∫–ª–æ–Ω–µ'
      },
      {
        name: '–ü–æ–¥—ä–µ–º —à—Ç–∞–Ω–≥–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å',
        sets: 4,
        reps: '10-12',
        weight: '15-20–∫–≥',
        direction: '–í–≤–µ—Ä—Ö –∫ –≥—Ä—É–¥–∏'
      },
      {
        name: '–ü–æ–¥—ä–µ–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –±–∏—Ü–µ–ø—Å',
        sets: 3,
        reps: '12',
        weight: '8-12–∫–≥',
        direction: '–ö –ø–ª–µ—á–∞–º'
      },
      {
        name: '–ú–æ–ª–æ—Ç–∫–∏',
        sets: 3,
        reps: '15',
        weight: '8-10–∫–≥',
        direction: '–í–≤–µ—Ä—Ö –≤–¥–æ–ª—å —Ç–µ–ª–∞'
      }
    ]
  },
  '–í': {
    name: '–î–µ–Ω—å –í: –ù–æ–≥–∏-–ü—Ä–µ—Å—Å',
    color: '#3b82f6',
    exercises: [
      {
        name: '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è',
        sets: 4,
        reps: '10-12',
        weight: '20-30–∫–≥',
        direction: '–í–Ω–∏–∑-–Ω–∞–∑–∞–¥ –∏ –≤–≤–µ—Ä—Ö'
      },
      {
        name: '–ñ–∏–º –Ω–æ–≥–∞–º–∏ (TechnoGym)',
        sets: 3,
        reps: '12-15',
        weight: '80-120–∫–≥',
        direction: '–û—Ç –≥—Ä—É–¥–∏ –∫ –Ω–æ–≥–∞–º'
      },
      {
        name: '–†–∞–∑–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ (TechnoGym)',
        sets: 3,
        reps: '12-15',
        weight: '20-30–∫–≥',
        direction: '–í–≤–µ—Ä—Ö-–≤–ø–µ—Ä–µ–¥'
      },
      {
        name: '–°–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ (TechnoGym)',
        sets: 3,
        reps: '12-15',
        weight: '15-25–∫–≥',
        direction: '–ö —è–≥–æ–¥–∏—Ü–∞–º'
      },
      {
        name: '–ü–æ–¥—ä–µ–º—ã –Ω–∞ –Ω–æ—Å–∫–∏',
        sets: 4,
        reps: '20',
        weight: '40-60–∫–≥',
        direction: '–°—Ç—Ä–æ–≥–æ –≤–≤–µ—Ä—Ö'
      },
      {
        name: '–ü–ª–∞–Ω–∫–∞',
        sets: 3,
        reps: '60—Å–µ–∫',
        weight: '',
        direction: '–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ'
      },
      {
        name: '–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è',
        sets: 3,
        reps: '20',
        weight: '',
        direction: '–í–≤–µ—Ä—Ö –∫ –∫–æ–ª–µ–Ω—è–º'
      },
      {
        name: '–ü—Ä–µ—Å—Å –≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–µ (TechnoGym)',
        sets: 3,
        reps: '12-15',
        weight: '15-25–∫–≥',
        direction: '–í–≤–µ—Ä—Ö –∫ –∫–æ–ª–µ–Ω—è–º'
      }
    ]
  },
  '–ì': {
    name: '–î–µ–Ω—å –ì: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è + –°–∏–ª–æ–≤–∞—è',
    color: '#f97316',
    exercises: [
      {
        name: '–ë–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞ —Ä–∞–∑–º–∏–Ω–∫–∞',
        sets: 1,
        reps: '10 –º–∏–Ω',
        weight: '',
        direction: '–í–ø–µ—Ä–µ–¥'
      },
      {
        name: '–≠–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä',
        sets: 1,
        reps: '10 –º–∏–Ω',
        weight: '',
        direction: '–û–≤–∞–ª—å–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è'
      },
      {
        name: 'TRX —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è',
        sets: 3,
        reps: '30—Å–µ–∫',
        weight: '',
        direction: '–ú–Ω–æ–≥–æ–ø–ª–æ—Å–∫–æ—Å—Ç–Ω—ã–µ',
        technique: `
          <div class="direction-box">
            <h4 class="direction-title">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è:</h4>
            <p class="direction-text">–ú–Ω–æ–≥–æ–ø–ª–æ—Å–∫–æ—Å—Ç–Ω—ã–µ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è)</p>
          </div>
          <h4 class="section-title">–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ TRX —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (3√ó30—Å–µ–∫):</h4>
          <div class="section-content">
            <div class="trx-exercise">
              <h5>üî• TRX –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è</h5>
              <ol>
                <li>–ó–∞–∫—Ä–µ–ø–∏—Ç–µ TRX –Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ–π –æ–ø–æ—Ä–µ</li>
                <li>–í–æ–∑—å–º–∏—Ç–µ—Å—å –∑–∞ —Ä—É–∫–æ—è—Ç–∫–∏, –≤—Å—Ç–∞–Ω—å—Ç–µ –ª–∏—Ü–æ–º –∫ —Ç–æ—á–∫–µ –∫—Ä–µ–ø–ª–µ–Ω–∏—è</li>
                <li>–ù–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, —Ä—É–∫–∏ –ø—Ä—è–º—ã–µ</li>
                <li><strong>–ü—Ä–∏—Å–µ–¥–∞–π—Ç–µ, –æ—Ç–≤–æ–¥—è —Ç–∞–∑ –Ω–∞–∑–∞–¥</strong>, –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ç–ª–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏</li>
                <li>–ü–æ–¥–Ω–∏–º–∞–π—Ç–µ—Å—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
              </ol>
            </div>
            
            <div class="trx-exercise">
              <h5>üî• TRX –¢—è–≥–∞ –∫ –≥—Ä—É–¥–∏</h5>
              <ol>
                <li>–í–æ–∑—å–º–∏—Ç–µ—Å—å –∑–∞ —Ä—É–∫–æ—è—Ç–∫–∏, –æ—Ç–∫–∏–Ω—å—Ç–µ—Å—å –Ω–∞–∑–∞–¥</li>
                <li>–¢–µ–ª–æ –ø—Ä—è–º–æ–µ, —Ä—É–∫–∏ –≤—ã—Ç—è–Ω—É—Ç—ã</li>
                <li><strong>–¢—è–Ω–∏—Ç–µ —Å–µ–±—è –∫ –ø–µ—Ç–ª—è–º</strong>, —Å–≤–æ–¥—è –ª–æ–ø–∞—Ç–∫–∏</li>
                <li>–ú–µ–¥–ª–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
              </ol>
            </div>
            
            <div class="trx-exercise">
              <h5>üî• TRX –û—Ç–∂–∏–º–∞–Ω–∏—è</h5>
              <ol>
                <li>–í–æ–∑—å–º–∏—Ç–µ—Å—å –∑–∞ —Ä—É–∫–æ—è—Ç–∫–∏, –ª–∏—Ü–æ–º –æ—Ç —Ç–æ—á–∫–∏ –∫—Ä–µ–ø–ª–µ–Ω–∏—è</li>
                <li>–†—É–∫–∏ –ø—Ä—è–º—ã–µ, —Ç–µ–ª–æ –≤ –ø–ª–∞–Ω–∫–µ</li>
                <li><strong>–û—Ç–∂–∏–º–∞–π—Ç–µ—Å—å</strong>, –æ–ø—É—Å–∫–∞—è –≥—Ä—É–¥—å –∫ —Ä—É–∫–∞–º</li>
                <li>–í—ã–∂–∏–º–∞–π—Ç–µ —Å–µ–±—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
              </ol>
            </div>
            
            <div class="important-points">
              <strong>–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã TRX:</strong>
              <ul>
                <li><strong>–ß–µ–º –±–æ–ª—å—à–µ –Ω–∞–∫–ª–æ–Ω</strong> - —Ç–µ–º —Å–ª–æ–∂–Ω–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</li>
                <li>–ö–æ—Ä–ø—É—Å –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä—è–∂–µ–Ω –∏ —Å—Ç–∞–±–∏–ª–µ–Ω</li>
                <li>–ü–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞ –¥–≤–∏–∂–µ–Ω–∏—è</li>
                <li>–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–æ –≤—Å–µ—Ö –ø–ª–æ—Å–∫–æ—Å—Ç—è—Ö</li>
                <li>–î—ã—Ö–∞–Ω–∏–µ: –≤—ã–¥–æ—Ö –Ω–∞ —É—Å–∏–ª–∏–µ, –≤–¥–æ—Ö –Ω–∞ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ</li>
              </ul>
            </div>
          </div>
        `
      },
      {
        name: '–¢—Ä–µ–Ω–∞–∂–µ—Ä –∫–∏–Ω–µ–∑–∏—Å (TechnoGym)',
        sets: 3,
        reps: '12',
        weight: '5-10–∫–≥',
        direction: '–°–≤–æ–±–æ–¥–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è'
      },
      {
        name: '–ë–∞–ª–∞–Ω—Å –Ω–∞ –ø–æ–ª—É—Å—Ñ–µ—Ä–µ BOSU',
        sets: 2,
        reps: '1 –º–∏–Ω',
        weight: '',
        direction: '–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ'
      },
      {
        name: '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–∏–ª–æ–≤—ã–µ',
        sets: 4,
        reps: '6-8',
        weight: '40-60–∫–≥',
        direction: '–í–Ω–∏–∑-–Ω–∞–∑–∞–¥ –∏ –≤–≤–µ—Ä—Ö'
      },
      {
        name: '–ñ–∏–º —Å–∏–ª–æ–≤–æ–π (TechnoGym)',
        sets: 4,
        reps: '6-8',
        weight: '30-50–∫–≥',
        direction: '–í–ø–µ—Ä–µ–¥ –æ—Ç –≥—Ä—É–¥–∏'
      },
      {
        name: '–¢—è–≥–∞ —Å–∏–ª–æ–≤–∞—è (TechnoGym)',
        sets: 3,
        reps: '8-10',
        weight: '35-45–∫–≥',
        direction: '–°–≤–µ—Ä—Ö—É –∫ –≥—Ä—É–¥–∏'
      },
      {
        name: '–†–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ—Ö –≥—Ä—É–ø–ø –º—ã—à—Ü',
        sets: 1,
        reps: '5 –º–∏–Ω',
        weight: '',
        direction: '–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ'
      }
    ]
  }
};

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
let currentWorkout = '–ê';
let currentExerciseIndex = 0;
let completedSets = {};
let timerInterval = null;
let timeRemaining = 0;
let isTimerRunning = false;
let stats = {
  totalWorkouts: 0,
  totalSets: 0,
  totalExercises: 0
};

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
function loadData() {
  const savedStats = localStorage.getItem('gymTrainerStats');
  if (savedStats) {
    stats = JSON.parse(savedStats);
  }
  
  const savedCompletedSets = localStorage.getItem('gymTrainerSets');
  if (savedCompletedSets) {
    completedSets = JSON.parse(savedCompletedSets);
  }
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
function saveData() {
  localStorage.setItem('gymTrainerStats', JSON.stringify(stats));
  localStorage.setItem('gymTrainerSets', JSON.stringify(completedSets));
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
function init() {
  loadData();
  setupNavigation();
  setupWorkoutSelector();
  setupTimer();
  renderWorkoutView();
  renderStatsView();
  renderScheduleView();
  showTab('workout');
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
function setupNavigation() {
  const navButtons = document.querySelectorAll('.nav button');
  navButtons.forEach(button => {
    button.addEventListener('click', () => {
      const tab = button.getAttribute('data-tab');
      showTab(tab);
    });
  });
}

// –ü–æ–∫–∞–∑–∞—Ç—å –≤–∫–ª–∞–¥–∫—É
function showTab(tabName) {
  document.querySelectorAll('.nav button').forEach(btn => btn.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
  
  document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
  document.getElementById(`${tabName}-tab`).classList.add('active');
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º
function setupWorkoutSelector() {
  const selector = document.getElementById('workout-selector');
  Object.keys(workoutPrograms).forEach(key => {
    const button = document.createElement('button');
    button.className = 'workout-btn';
    button.textContent = key;
    button.addEventListener('click', () => selectWorkout(key));
    selector.appendChild(button);
  });
  
  selectWorkout('–ê');
}

// –í—ã–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
function selectWorkout(workout) {
  currentWorkout = workout;
  currentExerciseIndex = 0;
  
  document.querySelectorAll('.workout-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector(`[data-tab="workout"]`).nextElementSibling.querySelector(`.workout-btn:nth-child(${Object.keys(workoutPrograms).indexOf(workout) + 1})`).classList.add('active');
  
  renderWorkoutView();
}

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤–∫–ª–∞–¥–∫–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
function renderWorkoutView() {
  const program = workoutPrograms[currentWorkout];
  document.getElementById('workout-title').textContent = program.name;
  
  const exerciseList = document.getElementById('exercise-list');
  exerciseList.innerHTML = '';
  
  program.exercises.forEach((exercise, index) => {
    const exerciseDiv = document.createElement('div');
    exerciseDiv.className = 'exercise-item';
    
    if (index === currentExerciseIndex) {
      exerciseDiv.classList.add('current');
    }
    
    exerciseDiv.innerHTML = `
      <div class="exercise-name">${exercise.name}</div>
      <div class="exercise-details">
        ${exercise.sets} √ó ${exercise.reps} ${exercise.weight ? '| ' + exercise.weight : ''}
        <br><small>${exercise.direction}</small>
      </div>
      <div class="set-dots">
        ${Array.from({length: exercise.sets}, (_, i) => 
          `<div class="set-dot ${getSetStatus(currentWorkout, index, i)}" 
               onclick="toggleSet('${currentWorkout}', ${index}, ${i})">${i + 1}</div>`
        ).join('')}
      </div>
    `;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∏–∫ –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ç–µ—Ö–Ω–∏–∫–∏
    if (exercise.technique) {
      exerciseDiv.addEventListener('click', () => showTechnique(exercise));
    }
    
    exerciseList.appendChild(exerciseDiv);
  });
}

// –°—Ç–∞—Ç—É—Å –ø–æ–¥—Ö–æ–¥–∞
function getSetStatus(workout, exerciseIndex, setIndex) {
  const key = `${workout}-${exerciseIndex}-${setIndex}`;
  return completedSets[key] ? 'completed' : '';
}

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥—Ö–æ–¥–∞
function toggleSet(workout, exerciseIndex, setIndex) {
  const key = `${workout}-${exerciseIndex}-${setIndex}`;
  
  if (completedSets[key]) {
    delete completedSets[key];
    stats.totalSets = Math.max(0, stats.totalSets - 1);
  } else {
    completedSets[key] = true;
    stats.totalSets++;
    
    // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
    startTimer(90);
    showTab('timer');
    
    // –í–∏–±—Ä–∞—Ü–∏—è
    if (navigator.vibrate) {
      navigator.vibrate(50);
    }
  }
  
  saveData();
  renderWorkoutView();
  renderStatsView();
}

// –ü–æ–∫–∞–∑ —Ç–µ—Ö–Ω–∏–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
function showTechnique(exercise) {
  if (!exercise.technique) return;
  
  document.getElementById('technique-title').textContent = exercise.name;
  document.getElementById('technique-content').innerHTML = exercise.technique;
  document.getElementById('technique-modal').style.display = 'flex';
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
document.getElementById('modal-close').addEventListener('click', () => {
  document.getElementById('technique-modal').style.display = 'none';
});

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–µ—Ä–∞
function setupTimer() {
  document.getElementById('timer-60').addEventListener('click', () => startTimer(60));
  document.getElementById('timer-90').addEventListener('click', () => startTimer(90));
  document.getElementById('timer-120').addEventListener('click', () => startTimer(120));
  document.getElementById('timer-stop').addEventListener('click', stopTimer);
}

// –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
function startTimer(seconds) {
  stopTimer();
  timeRemaining = seconds;
  isTimerRunning = true;
  
  updateTimerDisplay();
  
  timerInterval = setInterval(() => {
    timeRemaining--;
    updateTimerDisplay();
    
    if (timeRemaining <= 0) {
      stopTimer();
      
      // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
      if (navigator.vibrate) {
        navigator.vibrate([200, 100, 200]);
      }
      
      // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      if (Notification.permission === 'granted') {
        new Notification('–û—Ç–¥—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω!', {
          body: '–ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É',
          icon: 'data:image/png;base64,iVBORw0KGgoAAAANS...'
        });
      }
    }
  }, 1000);
}

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞
function stopTimer() {
  if (timerInterval) {
    clearInterval(timerInterval);
    timerInterval = null;
  }
  isTimerRunning = false;
  timeRemaining = 0;
  updateTimerDisplay();
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
function updateTimerDisplay() {
  const minutes = Math.floor(timeRemaining / 60);
  const seconds = timeRemaining % 60;
  const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  
  const timerElement = document.getElementById('timer-display');
  timerElement.textContent = display;
  
  if (timeRemaining <= 10 && timeRemaining > 0) {
    timerElement.classList.add('warning');
  } else {
    timerElement.classList.remove('warning');
  }
}

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
function completeWorkout() {
  stats.totalWorkouts++;
  stats.totalExercises += workoutPrograms[currentWorkout].exercises.length;
  
  // –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
  Object.keys(completedSets).forEach(key => {
    if (key.startsWith(currentWorkout)) {
      delete completedSets[key];
    }
  });
  
  saveData();
  renderStatsView();
  
  alert(`üéâ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ "${workoutPrograms[currentWorkout].name}" –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\n\nüìä –í—Å–µ–≥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: ${stats.totalWorkouts}`);
}

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
function renderStatsView() {
  document.getElementById('stat-workouts').textContent = stats.totalWorkouts;
  document.getElementById('stat-exercises').textContent = stats.totalExercises;
  document.getElementById('stat-sets').textContent = stats.totalSets;
}

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
function renderScheduleView() {
  const schedule = [
    { day: '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', workout: '–ê', name: '–ì—Ä—É–¥—å-–ü–ª–µ—á–∏-–¢—Ä–∏—Ü–µ–ø—Å' },
    { day: '–í—Ç–æ—Ä–Ω–∏–∫', workout: '–í', name: '–ù–æ–≥–∏-–ü—Ä–µ—Å—Å' },
    { day: '–°—Ä–µ–¥–∞', workout: '', name: '–û—Ç–¥—ã—Ö' },
    { day: '–ß–µ—Ç–≤–µ—Ä–≥', workout: '–ë', name: '–°–ø–∏–Ω–∞-–ë–∏—Ü–µ–ø—Å + –ö–∞—Ä–¥–∏–æ' },
    { day: '–ü—è—Ç–Ω–∏—Ü–∞', workout: '–ê', name: '–ì—Ä—É–¥—å-–ü–ª–µ—á–∏-–¢—Ä–∏—Ü–µ–ø—Å' },
    { day: '–°—É–±–±–æ—Ç–∞', workout: '–ì', name: '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è + –°–∏–ª–æ–≤–∞—è' },
    { day: '–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', workout: '', name: '–û—Ç–¥—ã—Ö' }
  ];
  
  const scheduleList = document.getElementById('schedule-list');
  scheduleList.innerHTML = '';
  
  schedule.forEach(item => {
    const scheduleDiv = document.createElement('div');
    scheduleDiv.className = 'schedule-item';
    
    if (item.workout) {
      scheduleDiv.addEventListener('click', () => {
        selectWorkout(item.workout);
        showTab('workout');
      });
    }
    
    scheduleDiv.innerHTML = `
      <h3 style="margin-bottom: 0.5rem;">${item.day}</h3>
      <p style="color: #6b7280; margin: 0;">
        ${item.workout ? `–î–µ–Ω—å ${item.workout}: ${item.name}` : item.name}
      </p>
    `;
    
    scheduleList.appendChild(scheduleDiv);
  });
}

// –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
if ('Notification' in window && Notification.permission === 'default') {
  Notification.requestPermission();
}

// –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
